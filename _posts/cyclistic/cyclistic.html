<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Cyclistic - Comparing members vs casual users</title>

  <meta property="description" itemprop="description" content="Looking for time-based, geographic and product-specific differences between members and casual users using public bikes in Chicago"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-04-30"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-04-30"/>
  <meta name="article:author" content="Eric Narro"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Cyclistic - Comparing members vs casual users"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Looking for time-based, geographic and product-specific differences between members and casual users using public bikes in Chicago"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Cyclistic - Comparing members vs casual users"/>
  <meta property="twitter:description" content="Looking for time-based, geographic and product-specific differences between members and casual users using public bikes in Chicago"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","categories","preview"]}},"value":[{"type":"character","attributes":{},"value":["Cyclistic - Comparing members vs casual users"]},{"type":"character","attributes":{},"value":["Looking for time-based, geographic and product-specific differences between members and casual users using public bikes in Chicago\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Eric Narro"]},{"type":"character","attributes":{},"value":["https://enarroied.github.io"]}]}]},{"type":"character","attributes":{},"value":["04-30-2022"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","toc_depth","code_folding"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]},{"type":"integer","attributes":{},"value":[5]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["R","maps"]},{"type":"character","attributes":{},"value":["/cyclistic_files/figure-html5/histograms per day-1.png"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["cyclistic_files/anchor-4.2.2/anchor.min.js","cyclistic_files/bowser-1.9.3/bowser.min.js","cyclistic_files/distill-2.2.21/template.v2.js","cyclistic_files/figure-html5/distance zero map 2-1.png","cyclistic_files/figure-html5/distance zero map-1.png","cyclistic_files/figure-html5/histograms per day-1.png","cyclistic_files/figure-html5/histograms per day-2.png","cyclistic_files/figure-html5/length per week and month-1.png","cyclistic_files/figure-html5/length per week and month-2.png","cyclistic_files/figure-html5/length1-1.png","cyclistic_files/figure-html5/map 1000-1.png","cyclistic_files/figure-html5/map docking strat S-1.png","cyclistic_files/figure-html5/map docking strat-1.png","cyclistic_files/figure-html5/map over 100-1.png","cyclistic_files/figure-html5/map1 darw map-1.png","cyclistic_files/figure-html5/month difference-1.png","cyclistic_files/figure-html5/plot hour day-1.png","cyclistic_files/figure-html5/ride distance1-1.png","cyclistic_files/figure-html5/ride distance1-2.png","cyclistic_files/figure-html5/type of bike per month-1.png","cyclistic_files/figure-html5/type of bike per week-1.png","cyclistic_files/figure-html5/unnamed-chunk-1-1.png","cyclistic_files/figure-html5/unnamed-chunk-2-1.png","cyclistic_files/figure-html5/unnamed-chunk-3-1.png","cyclistic_files/figure-html5/weekday difference-1.png","cyclistic_files/header-attrs-2.14/header-attrs.js","cyclistic_files/jquery-3.6.0/jquery-3.6.0.js","cyclistic_files/jquery-3.6.0/jquery-3.6.0.min.js","cyclistic_files/jquery-3.6.0/jquery-3.6.0.min.map","cyclistic_files/popper-2.6.0/popper.min.js","cyclistic_files/tippy-6.2.7/tippy-bundle.umd.min.js","cyclistic_files/tippy-6.2.7/tippy-light-border.css","cyclistic_files/tippy-6.2.7/tippy.css","cyclistic_files/tippy-6.2.7/tippy.umd.min.js","cyclistic_files/webcomponents-2.0.0/webcomponents.js","cyclistic_logo.png","df_cyclistic.csv","stations.csv"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="cyclistic_files/header-attrs-2.14/header-attrs.js"></script>
  <script src="cyclistic_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="cyclistic_files/popper-2.6.0/popper.min.js"></script>
  <link href="cyclistic_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="cyclistic_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="cyclistic_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="cyclistic_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="cyclistic_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="cyclistic_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="cyclistic_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Cyclistic - Comparing members vs casual users","description":"Looking for time-based, geographic and product-specific differences between members and casual users using public bikes in Chicago","authors":[{"author":"Eric Narro","authorURL":"https://enarroied.github.io","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-04-30T00:00:00.000+02:00","citationText":"Narro, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Cyclistic - Comparing members vs casual users</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">R</div>
<div class="dt=tag">maps</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Looking for time-based, geographic and product-specific
differences between members and casual users using public bikes in
Chicago</p></p>
</div>

<div class="d-byline">
  Eric Narro <a href="https://enarroied.github.io"
class="uri">https://enarroied.github.io</a> 
  
<br/>04-30-2022
</div>

<div class="d-article">
<div class="d-contents">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#business-task" id="toc-business-task">business
task</a></li>
<li><a href="#data-source-cyclistics-dataset"
id="toc-data-source-cyclistics-dataset">Data source : Cyclisticâ€™s
dataset</a>
<ul>
<li><a href="#original-data-location"
id="toc-original-data-location">Original data location</a>
<ul>
<li><a href="#project-data" id="toc-project-data">Project data</a></li>
</ul></li>
<li><a href="#data-license" id="toc-data-license">Data License</a></li>
<li><a href="#metadata" id="toc-metadata">Metadata</a></li>
<li><a href="#data-credibility-observations"
id="toc-data-credibility-observations">Data credibility
observations</a></li>
</ul></li>
<li><a href="#data-processing" id="toc-data-processing">Data
processing</a>
<ul>
<li><a href="#stations-dataset" id="toc-stations-dataset">Stations
dataset</a></li>
<li><a href="#preparing-and-cleaning-monthly-files"
id="toc-preparing-and-cleaning-monthly-files">Preparing and cleaning
monthly files</a></li>
<li><a href="#create-final-file" id="toc-create-final-file">Create final
file</a></li>
</ul></li>
<li><a href="#data-analysis-and-visualizations"
id="toc-data-analysis-and-visualizations">Data Analysis and
visualizations</a>
<ul>
<li><a href="#general-description-of-the-dataset"
id="toc-general-description-of-the-dataset">General description of the
dataset</a>
<ul>
<li><a href="#main-descriptive-statistics"
id="toc-main-descriptive-statistics">Main descriptive
statistics</a></li>
<li><a href="#important-dataset-elements"
id="toc-important-dataset-elements">Important Dataset elements</a></li>
</ul></li>
<li><a href="#member-users-and-casual-users-main-differences"
id="toc-member-users-and-casual-users-main-differences">Member users and
casual users main differences</a>
<ul>
<li><a href="#time-based-differences-between-members-and-casual-users"
id="toc-time-based-differences-between-members-and-casual-users">Time-based
differences between members and casual users</a>
<ul>
<li><a href="#use-of-bikes-per-week-day"
id="toc-use-of-bikes-per-week-day">Use of bikes per week day</a></li>
</ul></li>
<li><a href="#use-of-bikes-per-month"
id="toc-use-of-bikes-per-month">Use of bikes per month</a></li>
<li><a href="#use-of-service-per-hour-of-the-day"
id="toc-use-of-service-per-hour-of-the-day">Use of service per hour of
the day</a></li>
<li><a href="#length-of-use-of-the-service"
id="toc-length-of-use-of-the-service">Length of use of the
service</a></li>
<li><a href="#geographic-differences-between-members-and-casual-users"
id="toc-geographic-differences-between-members-and-casual-users">Geographic
differences between members and casual users</a>
<ul>
<li><a href="#ride-distance" id="toc-ride-distance">Ride distance</a>
<ul>
<li><a href="#rides-of-distance-0" id="toc-rides-of-distance-0">Rides of
distance 0</a></li>
<li><a href="#most-popular-starting-stations"
id="toc-most-popular-starting-stations">Most popular starting
stations</a></li>
<li><a href="#rides-by-frequence" id="toc-rides-by-frequence">Rides by
frequence</a></li>
</ul></li>
</ul></li>
<li><a
href="#product-specific-differences-between-members-and-casual-users"
id="toc-product-specific-differences-between-members-and-casual-users">Product
specific differences between members and casual users</a></li>
</ul></li>
</ul></li>
<li><a href="#conclusion" id="toc-conclusion">Conclusion</a>
<ul>
<li><a href="#main-findings-and-guesses"
id="toc-main-findings-and-guesses">Main Findings and guesses</a></li>
<li><a href="#main-suggestions" id="toc-main-suggestions">Main
suggestions</a></li>
</ul></li>
</ul>
</nav>
</div>
<p><em>This case study is the final project (capstone) of the Google
Analytics Coursera course.</em></p>
<p>This are the libraries required for the report:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://tidyverse.tidyverse.org'>"tidyverse"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"tidyverse"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://lubridate.tidyverse.org'>"lubridate"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"lubridate"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'>"geosphere"</span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"geosphere"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/dcomtois/summarytools'>"summarytools"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"summarytools"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://ggplot2.tidyverse.org'>"ggplot2"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"ggplot2"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://docs.ropensci.org/osmdata/'>"osmdata"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"osmdata"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://r-spatial.github.io/sf/'>"sf"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"sf"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/dkahle/ggmap'>"ggmap"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"ggmap"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='http://rgdal.r-forge.r-project.org'>"rgdal"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"rgdal"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://paleolimbot.github.io/ggspatial/'>"ggspatial"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"ggspatial"</span><span class='op'>)</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://tidyverse.tidyverse.org'>"tidyverse"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://lubridate.tidyverse.org'>"lubridate"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'>"geosphere"</span><span class='op'>)</span>
<span class='co'>#https://dabblingwithdata.wordpress.com/2017/12/20/my-favourite-r-package-for-frequency-tables/</span>
<span class='co'>#https://github.com/dcomtois/summarytools</span>
<span class='co'>#install.packages("summarytools")</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/dcomtois/summarytools'>"summarytools"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://ggplot2.tidyverse.org'>"ggplot2"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://docs.ropensci.org/osmdata/'>"osmdata"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://r-spatial.github.io/sf/'>"sf"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/dkahle/ggmap'>"ggmap"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='http://rgdal.r-forge.r-project.org'>"rgdal"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://paleolimbot.github.io/ggspatial/'>"ggspatial"</a></span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="business-task">business task</h1>
<p>This report shows insights about the following question:</p>
<p>Are there <strong>time-based</strong>, <strong>geographic</strong> or
<strong>product-specific</strong> differences in the the <strong>rides
done by member users and the ones done by casual users</strong>?</p>
<h1 id="data-source-cyclistics-dataset">Data source : Cyclisticâ€™s
dataset</h1>
<p>The main data source used for this task is internal Cyclistic data
about rides of the past year.</p>
<h2 id="original-data-location">Original data location</h2>
<p>Data can be downloaded from the following URL : <a
href="https://divvy-tripdata.s3.amazonaws.com/index.html"
class="uri">https://divvy-tripdata.s3.amazonaws.com/index.html</a></p>
<p>The following table contains every dataset (click to download), along
with their publication date and size.</p>
<table>
<colgroup>
<col style="width: 69%" />
<col style="width: 19%" />
<col style="width: 5%" />
<col style="width: 5%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Date Modified</th>
<th>Size</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202104-divvy-tripdata.zip">202104-divvy-tripdata.zip</a></td>
<td>May 7th 2021, 04:52:05 pm</td>
<td>11.78 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202105-divvy-tripdata.zip">202105-divvy-tripdata.zip</a></td>
<td>Jun 11th 2021, 07:10:18 pm</td>
<td>18.89 MB</td>
<td>ZIP file</td>
</tr>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202106-divvy-tripdata.zip">202106-divvy-tripdata.zip</a></td>
<td>Jul 16th 2021, 01:22:05 am</td>
<td>26.52 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202107-divvy-tripdata.zip">202107-divvy-tripdata.zip</a></td>
<td>Aug 14th 2021, 08:06:49 am</td>
<td>29.68 MB</td>
<td>ZIP file</td>
</tr>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202108-divvy-tripdata.zip">202108-divvy-tripdata.zip</a></td>
<td>Sep 8th 2021, 08:10:46 pm</td>
<td>27.88 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202109-divvy-tripdata.zip">202109-divvy-tripdata.zip</a></td>
<td>Oct 4th 2021, 07:21:39 pm</td>
<td>27.48 MB</td>
<td>ZIP file</td>
</tr>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202110-divvy-tripdata.zip">202110-divvy-tripdata.zip</a></td>
<td>Nov 4th 2021, 08:58:36 pm</td>
<td>23.01 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202111-divvy-tripdata.zip">202111-divvy-tripdata.zip</a></td>
<td>Dec 8th 2021, 09:19:04 pm</td>
<td>13.82 MB</td>
<td>ZIP file</td>
</tr>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202112-divvy-tripdata.zip">202112-divvy-tripdata.zip</a></td>
<td>Jan 6th 2022, 05:18:45 pm</td>
<td>9.33 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202201-divvy-tripdata.zip">202201-divvy-tripdata.zip</a></td>
<td>Feb 2nd 2022, 05:55:22 pm</td>
<td>3.84 MB</td>
<td>ZIP file</td>
</tr>
<tr class="odd">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202202-divvy-tripdata.zip">202202-divvy-tripdata.zip</a></td>
<td>Mar 2nd 2022, 09:22:47 pm</td>
<td>4.30 MB</td>
<td>ZIP file</td>
</tr>
<tr class="even">
<td><a
href="https://divvy-tripdata.s3.amazonaws.com/202203-divvy-tripdata.zip">202203-divvy-tripdata.zip</a></td>
<td>Apr 6th 2022, 07:07:41 pm</td>
<td>10.39 MB</td>
<td>ZIP file</td>
</tr>
</tbody>
</table>
<h3 id="project-data">Project data</h3>
<p>All the data used for this project is stored in the Data folder of
the 2022-04-18_members-casual-differences, following all companyâ€™s
guidelines.</p>
<h2 id="data-license">Data License</h2>
<p>Original dataset is published under the following license : <a
href="https://ride.divvybikes.com/data-license-agreement"
class="uri">https://ride.divvybikes.com/data-license-agreement</a></p>
<h2 id="metadata">Metadata</h2>
<p>The datasets for the period** March 2021 â€“ March 2022** are provided
per month, as CSV files, and can be downloaded from the web page in
compressed (zip) format. Original datasets are provided without
metadata.</p>
<p>However, using intuition and after checking the metadata provided in
the file â€œDivvy_Stations_Trips_2013â€we were able to figure out the
following :</p>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ride_id</td>
<td>ID attached to each trip taken</td>
</tr>
<tr class="even">
<td>rideable_type</td>
<td>Type of bike taken</td>
</tr>
<tr class="odd">
<td>started_at</td>
<td>Day and time trip started, in CST</td>
</tr>
<tr class="even">
<td>ended_at</td>
<td>Day and time trip ended, in CST</td>
</tr>
<tr class="odd">
<td>start_station_name</td>
<td>Name of station where trip originated</td>
</tr>
<tr class="even">
<td>start_station_id</td>
<td>ID of station where trip originated</td>
</tr>
<tr class="odd">
<td>end_station_name</td>
<td>Name of station where trip terminated</td>
</tr>
<tr class="even">
<td>end_station_id</td>
<td>ID of station where trip terminated</td>
</tr>
<tr class="odd">
<td>start_lat</td>
<td>Latitude of of station where trip originated</td>
</tr>
<tr class="even">
<td>start_lng</td>
<td>Longitude of station where trip originated</td>
</tr>
<tr class="odd">
<td>end_lat</td>
<td>Latitude of station where trip terminated</td>
</tr>
<tr class="even">
<td>end_long</td>
<td>Longitude of station where trip terminated</td>
</tr>
<tr class="odd">
<td>member_casual</td>
<td>Type of user. Member has a yearly subscription and casual does
not</td>
</tr>
</tbody>
</table>
<h2 id="data-credibility-observations">Data credibility
observations</h2>
<ul>
<li>Data reliability and possible bias:
<ul>
<li>Data reflects trips, it does not identify users, so we can not know
how many individuals use the service several times. For example, â€œhow
many â€˜casualâ€™ users use the service X times a monthâ€, is a question we
can not answer.</li>
</ul></li>
<li>Data origin:
<ul>
<li>Data comes from Cyclisticâ€™s internal source, 1st party
information</li>
</ul></li>
<li>Data is comprehensive:
<ul>
<li>Some information is missing or has problems (some coordinates are
are wrong and there is a few rides with abnormal lengths -even negative
lengths-)</li>
</ul></li>
<li>Data is current:
<ul>
<li>It includes past 12 month at time of analysis</li>
<li>Covid-19 may have altered ridersâ€™ behavior, so this has to be taken
into account when interpreting results *Data is vetted :</li>
<li>This data comes from our data engineers team and that it has been
vetted</li>
</ul></li>
</ul>
<h1 id="data-processing">Data processing</h1>
<p>There are 12 files to clean, totaling 1.1 Gb. The description of the
files is in the metadata section.</p>
<p><em>Google Analytics capstone exercise states that part of the data
preparation and data cleaning process has to be done solely with
spreadsheets. LibreOffice Calc and Google Spreadsheets were used but the
files are just too heavy. The course has now a few years of existence
and this may be due to the fact that some files group the information by
quarters (instead of by month) and are lighter. Anyhow, we want the
information of the last 12 month, so we decided to go with the bigger
files, which impose using other tools and we chose processing with R.
Spreadsheets were still used to have a general overview of the dataset
and of the outcomes of the processing.</em></p>
<p>We proceeded in 3 steps :</p>
<ul>
<li>Create a Stations dataset, with name, id number, latitude and
longitude for each station</li>
<li>Create 12 separated cleaned files, for each month</li>
<li>Merging all the datasets into a single one</li>
</ul>
<p>Having a separated stations dataset helps us reduce the weight of the
main file while keeping a unique ID number for the stations but removing
the stations names (using SQL JOINS or other method). It also creates a
light file with all the stations and coordinates for eventual
cartography.</p>
<h2 id="stations-dataset">Stations dataset</h2>
<p>For the stations dataset, we loop through all the stations
(end_station and start_station) of all the files, to make sure that we
have all the stations in the global dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>file_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span>path<span class='op'>=</span><span class='st'>"files_to_clean"</span>,pattern<span class='op'>=</span><span class='st'>"*.csv"</span><span class='op'>)</span>
<span class='va'>df_stations</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>id_original<span class='op'>=</span><span class='st'>""</span>, name<span class='op'>=</span><span class='st'>""</span>, lat<span class='op'>=</span><span class='fl'>0.0</span>, lng<span class='op'>=</span><span class='fl'>0.0</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>After the file is created and we have specified which files to loop
through, we create a data frame with all the stations. The following
steps avoid using too much memory (it takes a couple minutes):</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#for rename function</span>
<span class='kw'>for</span><span class='op'>(</span><span class='va'>file</span> <span class='kw'>in</span> <span class='va'>file_names</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"files_to_clean/"</span>, <span class='va'>file</span>, sep<span class='op'>=</span><span class='st'>""</span><span class='op'>)</span><span class='op'>)</span>

  <span class='va'>df_stations1</span> <span class='op'>&lt;-</span><span class='va'>df_trips</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"start_station_id"</span>, <span class='st'>"start_station_name"</span>, <span class='st'>"start_lat"</span>, <span class='st'>"start_lng"</span><span class='op'>)</span><span class='op'>]</span>
  <span class='va'>df_stations2</span> <span class='op'>&lt;-</span><span class='va'>df_trips</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"end_station_id"</span>, <span class='st'>"end_station_name"</span>, <span class='st'>"end_lat"</span>, <span class='st'>"end_lng"</span><span class='op'>)</span><span class='op'>]</span>
  
  <span class='va'>df_stations1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='va'>df_stations1</span>, id_original <span class='op'>=</span> <span class='va'>start_station_id</span>, name <span class='op'>=</span> <span class='va'>start_station_name</span>, lat <span class='op'>=</span> <span class='va'>start_lat</span>, lng <span class='op'>=</span> <span class='va'>start_lng</span><span class='op'>)</span>
  <span class='va'>df_stations2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='va'>df_stations2</span>, id_original <span class='op'>=</span> <span class='va'>end_station_id</span>, name <span class='op'>=</span> <span class='va'>end_station_name</span>, lat <span class='op'>=</span> <span class='va'>end_lat</span>, lng <span class='op'>=</span> <span class='va'>end_lng</span><span class='op'>)</span>
  
  <span class='va'>df_stations1</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>df_stations1</span>, <span class='va'>df_stations2</span><span class='op'>)</span>
  <span class='va'>df_stations</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>df_stations</span>, <span class='va'>df_stations1</span><span class='op'>)</span>
  <span class='co'>#make some space</span>
  <span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>df_stations1</span>, <span class='va'>df_stations2</span><span class='op'>)</span>
  <span class='co'>#We keep unique combinations, but this does not give one row per id since long and lat info is too precise. We do this at the end of each loop to avoid huge files</span>
  <span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id_original"</span>, <span class='st'>"name"</span>, <span class='st'>"lat"</span>, <span class='st'>"lng"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<p>This generates a moderately big data frame (about 235 Mb), but it has
many repeated stations. Now we will sort it and keep only unique values
for stations. Latitude and longitude values will be calculated as a mean
of all the values. This is arbitrary. Latitude and Longitude values come
from GPS data from the bikes, which can be parked within a small area
with slightly different coordinates, in the same stations (few meters
away).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#We order by id</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='va'>df_stations</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>id_original</span><span class='op'>)</span>, <span class='op'>]</span>
<span class='co'>#Get the mean for both latitude and longitude</span>
<span class='va'>df_stations_lat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/aggregate.sf.html'>aggregate</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>lat</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>id_original</span>, <span class='va'>df_stations</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span>, FUN<span class='op'>=</span><span class='va'>mean</span><span class='op'>)</span>
<span class='va'>df_stations_lng</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/aggregate.sf.html'>aggregate</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>lng</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>id_original</span>, <span class='va'>df_stations</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span>, FUN<span class='op'>=</span><span class='va'>mean</span><span class='op'>)</span>
<span class='co'>#Append the info to df_stations df</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>id_original <span class='op'>=</span> <span class='va'>df_stations_lat</span><span class='op'>$</span><span class='va'>Group.1</span>, name <span class='op'>=</span> <span class='va'>df_stations_lat</span><span class='op'>$</span><span class='va'>Group.2</span>, lat <span class='op'>=</span> <span class='va'>df_stations_lat</span><span class='op'>$</span><span class='va'>x</span>, lng <span class='op'>=</span> <span class='va'>df_stations_lng</span><span class='op'>$</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'>#Remove row where id is empty</span>
<span class='co'>#inspired from https://www.statology.org/remove-rows-in-r/</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='va'>df_stations</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>,<span class='op'>]</span> 
<span class='co'>#We order by id</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='va'>df_stations</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>df_stations</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span>, <span class='op'>]</span>
<span class='co'>#Remove duplicates</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='va'>df_stations</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>id_original</span>, .keep_all <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>This creates a much smaller data frame (148 kb). We now save as
â€˜stations.csvâ€™ and clean the environment.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#we wrtite the file for further use</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>df_stations</span>, <span class='st'>"stations.csv"</span>, row.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='co'>#empty environment (found : https://koalatea.io/r-remove-variables/)</span>
<span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span>list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>After checking with a spreadsheet, we have stations which are
obviously repair, charging or test stations. Since trip to and from
those stations do not involve customers, we will delete those rows in
the next section. Here is the list of those IDs:</p>
<ul>
<li>Bissell St &amp; Armitage Ave - Charging</li>
<li>DIVVY 001</li>
<li>DIVVY CASSETTE REPAIR MOBILE STATION</li>
<li>Lincoln Ave &amp; Roscoe St - Charging</li>
<li>Pawel Bialowas - Test- PBSC charging station</li>
<li>Throop/Hastings Mobile Station</li>
<li>Wilton Ave &amp; Diversey Pkwy - Charging</li>
</ul>
<h2 id="preparing-and-cleaning-monthly-files">Preparing and cleaning
monthly files</h2>
<p>Since there are 12 files, we loop through all of them and apply the
function created below. Here is a brief summary of steps taken by the
function :</p>
<ul>
<li><strong>Create a data frame from the original csv file</strong></li>
<li><strong>Remove trip id ; remove station names for both start and
end:</strong> id is not needed for the analysis (and we could always
trace back the information ir really required). Station names are kept
in the stations.csv file (and we can link both datasets with station
IDs). This allows to remove noise and have a smaller dataset.</li>
<li><strong>Order by date:</strong> We order dataset by date and time
(of the starting point of the ride).</li>
<li><strong>Remove duplicated rows.</strong></li>
<li><strong>Remove rows with NA values.</strong></li>
<li><strong>Rename type of bike:</strong> Electric is renamed e, docked
is renamed d and classic is renamed c.Â This is only to gain some
space</li>
<li><strong>Rename member column:</strong> The column â€œmember_casualâ€ is
renamed to â€œmemberâ€, and the values â€œcasualâ€ are renamed â€œNâ€ (<em>for
NO</em>) and values â€œmemberâ€ are renamed â€œYâ€ (<em>for YES</em>). This is
to gain space.</li>
<li><strong>Erase rows with non-customer trips:</strong> Some stations
are repair or test stations (view section above), we remove them since
they should not involve customers.</li>
<li><strong>Add ride length (in seconds):</strong> We add a column,
ride_length, to the dataset, with the duration (in seconds) of the trip.
Note that a customer may not have been riding the bike during the full
time he has been renting it. Also note that not all customers ride as
fast.</li>
<li><strong>Remove rides with abnormal length:</strong> Some data comes
with trips that â€œended before the startedâ€, or duration of 0 seconds.
Some trips have duration of very few seconds. We have removed trips of
less than 1 minute. We also remove trips that lasted over a day, since
they ere probably stolen bikes or some other kind of technical
problem.</li>
<li><strong>Add ride distance (in meters):</strong> We add the distance
between the starting and the end point of the ride. Note that this is
the shortest distance between points, it does not reflect at all the
real distance the customer rides.</li>
<li><strong>Make day of the week column:</strong> We create a column
with the day of the week, for further analysis.</li>
<li><strong>Make month column:</strong> We create a column with the
month for further analysis.</li>
<li><strong>Make hour column:</strong> We create a column with the hour
of the day (of the starting point) for further analysis</li>
<li><strong>Remove end date:</strong> We remove the end date time, which
is not needed for analysis and since we have already calculated trip
duration</li>
</ul>
<p>The code:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>clean_trip_files</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>read_file_path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"files_to_clean/"</span>, <span class='va'>file</span>, sep <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='va'>read_file_path</span><span class='op'>)</span>
  <span class='co'>#Order dataset by started date time (started_at)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>started_at</span><span class='op'>)</span>, <span class='op'>]</span>
  <span class='co'>#Remove some columns we do not need</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"rideable_type"</span>, <span class='st'>"started_at"</span>, <span class='st'>"ended_at"</span>, <span class='st'>"start_station_id"</span>, <span class='st'>"end_station_id"</span>, <span class='st'>"start_lat"</span>, <span class='st'>"start_lng"</span>, <span class='st'>"end_lat"</span>, <span class='st'>"end_lng"</span>, <span class='st'>"member_casual"</span><span class='op'>)</span><span class='op'>]</span>
  <span class='co'>#Remove duplicates</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span>, <span class='op'>]</span>
  <span class='co'>#Remove NA values</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span>
  
  <span class='co'>#Rename electric_bike to e, classic_bike to c and docked_bike to d</span>
  <span class='co'>#inspired from https://stackoverflow.com/questions/43108310/how-to-rename-a-specific-cell-in-r</span>
  <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"electric_bike"</span>, <span class='st'>"e"</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span><span class='op'>)</span>
  <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"classic_bike"</span>, <span class='st'>"c"</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span><span class='op'>)</span>
  <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"docked_bike"</span>, <span class='st'>"d"</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span><span class='op'>)</span>
  
  <span class='co'>#Rename member_casual column to member, then create boolean datatype Y/N</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='va'>df_trips</span>, member <span class='op'>=</span> <span class='va'>member_casual</span><span class='op'>)</span>
  <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"member"</span>, <span class='st'>"Y"</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span><span class='op'>)</span>
  <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"casual"</span>, <span class='st'>"N"</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span><span class='op'>)</span>
  
  <span class='co'>#Remove rows with repair stations in it</span>
  <span class='va'>list_repair</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"Bissell St &amp; Armitage Ave - Charging"</span>, <span class='st'>"DIVVY 001"</span>, <span class='st'>"DIVVY CASSETTE REPAIR MOBILE STATION"</span>, <span class='st'>"Lincoln Ave &amp; Roscoe St - Charging"</span>, <span class='st'>"Pawel Bialowas - Test- PBSC charging station"</span>, <span class='st'>"Throop/Hastings Mobile Station"</span>, <span class='st'>"Wilton Ave &amp; Diversey Pkwy - Charging"</span><span class='op'>)</span>
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>trip_row</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='kw'>if</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>[</span><span class='va'>trip_row</span>,<span class='fl'>4</span><span class='op'>]</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>list_repair</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>trip_row</span><span class='op'>)</span>,<span class='op'>]</span>
    <span class='op'>}</span>
    <span class='kw'>else</span> <span class='kw'>if</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>[</span><span class='va'>trip_row</span>,<span class='fl'>5</span><span class='op'>]</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>list_repair</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>trip_row</span><span class='op'>)</span>,<span class='op'>]</span>
    <span class='op'>}</span>
  <span class='op'>}</span>
  <span class='co'># add ride_length column to the dataset</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span><span class='va'>df_trips</span>, ride_length <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd_hms.html'>ymd_hms</a></span><span class='op'>(</span><span class='va'>ended_at</span><span class='op'>)</span> <span class='op'>-</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd_hms.html'>ymd_hms</a></span><span class='op'>(</span><span class='va'>started_at</span><span class='op'>)</span><span class='op'>)</span>
  <span class='co'>#Remove trips under a minute (or with 0 second or even negative values) and over a day</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>df_trips</span>, <span class='va'>ride_length</span> <span class='op'>&gt;</span> <span class='fl'>60</span><span class='op'>)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>df_trips</span>, <span class='va'>ride_length</span> <span class='op'>&lt;</span> <span class='fl'>86400</span><span class='op'>)</span>
  <span class='co'>#add ride_distance to the dataset</span>
  <span class='co'>#Inspiration from : https://www.rdocumentation.org/packages/geosphere/versions/1.5-14/topics/distHaversine</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span><span class='va'>df_trips</span>, ride_distance <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/geosphere/man/distHaversine.html'>distHaversine</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>[</span><span class='fl'>7</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span>, <span class='va'>df_trips</span><span class='op'>[</span><span class='fl'>9</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
 
  <span class='co'>#Get info from the day (reference is start_time, arbitrary)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span><span class='va'>df_trips</span>, week_day <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/day.html'>wday</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>started_at</span>, label <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span><span class='va'>df_trips</span>, month <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/month.html'>month</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>started_at</span>, label <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span><span class='va'>df_trips</span>, hour <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/hour.html'>hour</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>started_at</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  
  <span class='co'>#remove end datetime, we keep start to further analyze, arbitrary choice</span>
  <span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"rideable_type"</span>, <span class='st'>"month"</span>, <span class='st'>"started_at"</span>, <span class='st'>"week_day"</span>, <span class='st'>"hour"</span>, <span class='st'>"start_station_id"</span>, <span class='st'>"end_station_id"</span>, <span class='st'>"start_lat"</span>, <span class='st'>"start_lng"</span>, <span class='st'>"end_lat"</span>, <span class='st'>"end_lng"</span>, <span class='st'>"member"</span>, <span class='st'>"ride_length"</span>, <span class='st'>"ride_distance"</span><span class='op'>)</span><span class='op'>]</span>
  <span class='va'>write_file_path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"clean_files/"</span>, <span class='va'>file</span>, sep <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>df_trips</span>, <span class='va'>write_file_path</span>, row.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<p>And then, we execute the function for each file to clean.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Clean all the files using file_names function</span>
<span class='va'>file_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span>path<span class='op'>=</span><span class='st'>"files_to_clean"</span>,pattern<span class='op'>=</span><span class='st'>"*.csv"</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>file</span> <span class='kw'>in</span> <span class='va'>file_names</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>clean_trip_files</span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<h2 id="create-final-file">Create final file</h2>
<p>Finaly, we merge all the datasets into a single one for further
analysis.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>clean_file_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span>path<span class='op'>=</span><span class='st'>"clean_files"</span>,pattern<span class='op'>=</span><span class='st'>"*.csv"</span>, full.names <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='co'>#Merge all clean files into 1 single dataframe (forgot to copy the source, found online...)</span>
<span class='va'>df_cyclistic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span><span class='op'>(</span><span class='st'>"rbind"</span>,<span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>clean_file_names</span>,FUN<span class='op'>=</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>clean_file_names</span><span class='op'>)</span><span class='op'>{</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='va'>clean_file_names</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>#write into file</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>df_cyclistic</span>, <span class='st'>"df_cyclistic.csv"</span>, row.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>The resulting file is â€œdf_cyclistic.csvâ€, it is a 748 Mb file, so we
will not be able to use Google Cloud Bigquery Sandbox service because it
is limited to 100Mb file upload (and our $0 budget does not allow us to
upgrade to load bigger files). Using spreadsheets is also impossible
with a file this big.</p>
<p>The size of the file is somehow â€œmediumâ€ and we can use R (we can
create smaller data frames with not all the columns at once) or use a
small database service like SQLite, that will run locally.</p>
<h1 id="data-analysis-and-visualizations">Data Analysis and
visualizations</h1>
<h2 id="general-description-of-the-dataset">General description of the
dataset</h2>
<h3 id="main-descriptive-statistics">Main descriptive statistics</h3>
<p>First, we load the libraries we need. We also define a function to
get the mode of our values.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#R does not have in-built function for mode, but here we found it: https://www.tutorialspoint.com/r/r_mean_median_mode.htm#:~:text=The%20mode%20is%20the%20value,a%20data%20set%20in%20R.</span>
<span class='va'>getmode</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>v</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>uniqv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>v</span><span class='op'>)</span>
  <span class='va'>uniqv</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tabulate.html'>tabulate</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/match.html'>match</a></span><span class='op'>(</span><span class='va'>v</span>, <span class='va'>uniqv</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<p>Then, we load the main datasets.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"df_cyclistic.csv"</span><span class='op'>)</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"stations.csv"</span><span class='op'>)</span>

<span class='co'>#Turn categorical variables into factor</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"c"</span>,<span class='st'>"e"</span>,<span class='st'>"d"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode_factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span>, <span class='st'>"c"</span> <span class='op'>=</span> <span class='st'>"Classic"</span> , <span class='st'>"e"</span> <span class='op'>=</span> <span class='st'>"Electric"</span>, <span class='st'>"d"</span> <span class='op'>=</span> <span class='st'>"Docked"</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>week_day</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>week_day</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Mon"</span>, <span class='st'>"Tue"</span>, <span class='st'>"Wed"</span>, <span class='st'>"Thu"</span>, <span class='st'>"Fri"</span>, <span class='st'>"Sat"</span>, <span class='st'>"Sun"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>month</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>month</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Apr"</span>, <span class='st'>"May"</span>, <span class='st'>"Jun"</span>, <span class='st'>"Jul"</span>, <span class='st'>"Aug"</span>, <span class='st'>"Sep"</span>, <span class='st'>"Oct"</span>, <span class='st'>"Nov"</span>, <span class='st'>"Dec"</span>, <span class='st'>"Jan"</span>, <span class='st'>"Feb"</span>, <span class='st'>"Mar"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>hour</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>hour</span><span class='op'>)</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"1"</span>, <span class='st'>"2"</span>, <span class='st'>"3"</span>, <span class='st'>"4"</span>, <span class='st'>"5"</span>, <span class='st'>"6"</span>, <span class='st'>"7"</span>, <span class='st'>"8"</span>, <span class='st'>"9"</span>, <span class='st'>"10"</span>, <span class='st'>"11"</span>, <span class='st'>"12"</span>, <span class='st'>"13"</span>, <span class='st'>"14"</span>, <span class='st'>"15"</span>, <span class='st'>"16"</span>, <span class='st'>"17"</span>, <span class='st'>"18"</span>, <span class='st'>"19"</span>, <span class='st'>"20"</span>, <span class='st'>"21"</span>, <span class='st'>"22"</span>, <span class='st'>"23"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"Y"</span>, <span class='st'>"N"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode_factor</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>member</span>, <span class='st'>"Y"</span> <span class='op'>=</span> <span class='st'>"Member User"</span> , <span class='st'>"N"</span> <span class='op'>=</span> <span class='st'>"Casual User"</span><span class='op'>)</span>
<span class='va'>df_trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='va'>df_trips</span>, user <span class='op'>=</span> <span class='va'>member</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>Here is the table structure:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Rows: 5,626,694
Columns: 14
$ rideable_type    &lt;fct&gt; Electric, Classic, Electric, Classic, Electâ€¦
$ month            &lt;fct&gt; Apr, Apr, Apr, Apr, Apr, Apr, Apr, Apr, Aprâ€¦
$ started_at       &lt;chr&gt; &quot;2021-04-01 00:03:18&quot;, &quot;2021-04-01 00:03:47â€¦
$ week_day         &lt;fct&gt; Thu, Thu, Thu, Thu, Thu, Thu, Thu, Thu, Thuâ€¦
$ hour             &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0â€¦
$ start_station_id &lt;chr&gt; &quot;527&quot;, &quot;13430&quot;, &quot;&quot;, &quot;TA1307000131&quot;, &quot;KA1504â€¦
$ end_station_id   &lt;chr&gt; &quot;15648&quot;, &quot;TA1308000026&quot;, &quot;&quot;, &quot;13045&quot;, &quot;TA13â€¦
$ start_lat        &lt;dbl&gt; 42.01888, 41.89076, 41.72000, 41.88688, 41.â€¦
$ start_lng        &lt;dbl&gt; -87.69008, -87.63170, -87.62000, -87.62603,â€¦
$ end_lat          &lt;dbl&gt; 41.92465, 41.85008, 41.70000, 41.89399, 41.â€¦
$ end_lng          &lt;dbl&gt; -87.68929, -87.63214, -87.65000, -87.62932,â€¦
$ user             &lt;fct&gt; Member User, Member User, Member User, Membâ€¦
$ ride_length      &lt;int&gt; 1661, 1179, 1292, 570, 1052, 478, 558, 672,â€¦
$ ride_distance    &lt;dbl&gt; 10490.4741, 4528.4376, 3342.4883, 837.8058,â€¦</code></pre>
</div>
<p>Then, we get the main descriptive statistics summary for the
dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/dfSummary.html'>dfSummary</a></span><span class='op'>(</span><span class='va'>df_trips</span>, 
          plain.ascii  <span class='op'>=</span> <span class='cn'>FALSE</span>, 
          style        <span class='op'>=</span> <span class='st'>"grid"</span>, 
          graph.magnif <span class='op'>=</span> <span class='fl'>0.75</span>, 
          valid.col    <span class='op'>=</span> <span class='cn'>FALSE</span>,
          missing.col<span class='op'>=</span><span class='cn'>FALSE</span>,
          tmp.img.dir  <span class='op'>=</span> <span class='st'>"/tmp"</span>,
          max.distinct.values <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span>,
      method <span class='op'>=</span> <span class='st'>'render'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Data Frame Summary</h3>
<h4>df_trips</h4>
<strong>Dimensions</strong>: 5626694 x 14
  <br/><strong>Duplicates</strong>: 0
<br/>
<table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline ">
  <thead>
    <tr>
      <th align="center" class="st-protect-top-border"><strong>No</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Graph</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Missing</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">1</td>
      <td align="left">rideable_type
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Classic</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Electric</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Docked</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3202902</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">56.9%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">2123408</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">37.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">300384</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEwAAAA7CAQAAAB7uaTZAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVHzGH9JqfAAAAo0lEQVRo3u3WQQ5AMBSE4Vaczgk4ISfo9di+SggvmjfSf1YsyJdMxeQ9aWaIBgD7KqO9WYMP3JIvYClNgaxS3clWCQwYMLUAA9Yt7PQTL763NEi2Syd6ZpvVo1ulLKw6Y1uTLufsear5gvV+TrJVAgMGTC3AgHULY8E+wphr2SplYTcL1rc8m8Dsgo3+DGSrBAYMmFqAAesW9o8FqxTZKoG9zQHmFBGjd8xcLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNS0wOFQyMTozMTo0OSswMjowMJ5WLjIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDUtMDhUMjE6MzE6NDkrMDI6MDDvC5aOAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">2</td>
      <td align="left">month
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Apr</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. May</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Jun</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. Jul</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. Aug</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. Sep</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. Oct</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. Nov</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. Dec</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. Jan</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">11. Feb</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">12. Mar</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">331985</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.9%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">522434</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">716553</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">12.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">808596</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">14.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">791915</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">14.1%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">744297</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">13.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">620545</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">11.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">353757</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">6.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">243394</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">101793</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">112926</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">2.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">278499</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.9%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAB0AAADbCAQAAAA7K1ItAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVHzNp+vuzAAABDUlEQVRo3u3ZYQ7CIAyG4WI83U6gJ9QTeD39NWVQBtuqUvL2lyY+cQX6xbnwlL112i3/RM/xm9ui8UvIPx5KVGR6v3p02isUakeT418/9J8K8ZzVwyYeug56vatXrKVFRuOUmKu8cO6OBBSalLuUaBj1udKRr456eRXc7SsUakdHTgkRkWso0LWUyFfC3b5CoXZ07JRY/prYkBLpOrjbVyjUjpISapES0NGou1H/fkpof0M2pYS+eO6OBBSalLuUWB310nMGtdd41Gt9u9tXKNSOjpMS6wmh9DqnREvP7vYVCrWjI6REPR/Ub53a1NELhkIHo6REE91SUGiPtP9R544DCv0xtbpt8NDrAfoCWZtE+p3ZksUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzE6NTErMDI6MDBhE2DLAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMxOjUxKzAyOjAwEE7YdwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">3</td>
      <td align="left">started_at
[character]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. 2021-06-11 18:22:14</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. 2021-06-12 14:10:36</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. 2021-06-13 14:00:41</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. 2021-06-17 18:14:52</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. 2021-06-23 17:11:18</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. 2021-06-23 17:27:09</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. 2021-06-27 16:07:53</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. 2021-07-03 16:03:02</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. 2021-07-08 18:35:05</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. 2021-07-16 16:59:57</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">11. 2021-07-19 17:36:48</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">12. 2021-07-20 17:20:15</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 4724820 others ]</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">7</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5626610</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">100.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHwAAADsCAQAAAAccQp2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIDXYR3S6AAABeUlEQVR42u3YwQnCQABFwY2kOivQCrUC29PrKngRNJh5c1sEyWNzyV/uw3TY+gEKL/w31vlwuZ+WrR/om+Y49sYL1xSuKVxTuKZwTeEaNnyZp6e9z1B9lr6GX/d+5e/CJYVrCtcUrilcU7imcE3hmhYYTQuMpnBN4ZrCNYVrCtcUrilc0wKjaYHRFK4pXFO4pnBN4ZrCNWx4Q4Sm8DFaYAiFawrXFK4pXFO4pnANG94Co2mI0BSuKVxTuKZwTeGawjWFa1pgNC0wmsI1hWsK1xSuKVxTuKZwTQuMpgVGU7imcE3hmsI1hWsK1xSuaYHRtMBoCtcUrilcU7imcE3hGja8IUJT+BgtMITCNYVrCtcUrilcU7iGDW+B0TREaArXFK4pXFO4pnBN4ZrCNS0wmhYYTeGawjWFawrXFK4pXFO4pgVGs86HvS8w5+nK1+efjls/2xfdnk7sq164pnBN4ZrCNYVr2PCXj5TbZ//yh5adf4m+xb7qhWseLIYzqdAy4/gAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzI6NTMrMDI6MDAdu8rhAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMyOjUzKzAyOjAwbOZyXQAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">4</td>
      <td align="left">week_day
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Mon</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Tue</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Wed</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. Thu</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. Fri</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. Sat</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. Sun</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">720130</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">12.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">754044</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">13.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">773271</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">13.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">756527</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">13.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">803537</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">14.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">964159</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">17.1%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">855026</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">15.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAACDCAQAAABG+9E/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIDc2SRWWAAAAsUlEQVRo3u3WQQqAIBBAUSc6XSeoE9YJul4tIjDLTBS08buqhY8a6ZNsJm11ifsrAHr7Zn4dyCjnlfgAYwbv9rXaGQAAKAGcr3GNBsROwNc+2j3I+wpL4BFGCQBvRfLNp/wxAgAoASgSRQIAqAegSBQJACAb0FpQnpISEZTnCZU/RgAAJUB7RTrWJB4gVKRjXedU/hgBAJQALRbJ/UuKLNJ9RuWPEQBACZC3SP+cQTKwAzufKRxl/B0IAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTA4VDIxOjMyOjU1KzAyOjAwfmv/2wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0wOFQyMTozMjo1NSswMjowMA82R2cAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">5</td>
      <td align="left">hour
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. 0</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. 1</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. 2</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. 3</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. 4</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. 5</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. 6</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. 7</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. 8</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. 9</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">11. 10</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">12. 11</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 12 others ]</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">86578</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">60976</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.1%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">38283</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">21445</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">18226</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">43933</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">109280</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.9%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">203575</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">3.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">246528</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">210146</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">3.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">233969</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">290001</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">4063754</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">72.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAF0AAADsCAQAAAC87mKYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIDs//1m9AAABs0lEQVR42u3cQUrDYBSF0T/S1bkCXaFdgduLg07+lEaoYN596flGcXYoT+hFybKOrr1VA9B7dZl/+FrHGONjqUbtN9PuPvX3atsTNT4YdHT0+NDR0eM7D/272vNEyzzw8sfeL196O7WhX9dr/gf/mN4rdHT0+NDR0eNDR38VupVUkZWEjh4fOjp6fOjo6PE1pltJFd2tpGrOn+m9QkdHjw8dHT0+dPSnMjUqOgvdSkJHTwwdHT0+dHT0+KykivzbGjp6fOjo6PGho6PH15huJVW0edvaNf5ta3PetoaOHh86Onp86OgvSveiuP/jTs+ND+bBShqjx1K6bH+8raQeF9/4YNDR0eNDR0ePD72iu2+OPb4z3rKSKtpZSR120sOV1OPmGx8MOjp6fOjo6PE1ppsah3Gn58YH05jub0kVNT4YdHT0+NDR0eNrTLeSDuNOz2c5GFPjoBofDDo6enzo6OjxoVdkJR3GnZ7PcjDb18SlL6Wdf1vrcPWNDwYdHT0+dHT0+NArspIO407PZzmY/Jdpf04f++5KSmz7m9j4YNDR0eNDR0ePrzH9LFOjV40PBr2iHyKWRWLTyQdGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTA4VDIxOjMyOjU5KzAyOjAwucuVrwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0wOFQyMTozMjo1OSswMjowMMiWLRMAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">6</td>
      <td align="left">start_station_id
[character]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. (Empty string)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. 13022</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. LF-005</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. 13300</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. 13042</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. TA1308000050</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. 13008</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. TA1307000039</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. KA1504000135</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. TA1308000001</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">11. KA1503000043</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">12. 13179</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 834 others ]</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">722758</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">12.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">82624</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">46982</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">44875</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">43582</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">43489</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">41551</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">40667</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">37409</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">35888</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">34767</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">32831</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">4419271</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">78.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAGQAAADsCAQAAAAoCMtqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIQCX74HYAAABl0lEQVR42u3XQW6CYBhF0dKwOlfQrrCuwO3ZKRht0044fLlnRoyGGzD533J/m+H96BsoZGrIur34+vEP87EcfbOPtje07j+6vPzS7ei7/sWYV6sQTSGaQjSFaArRjAl5ODTqR8PXlu3J/Wyzd3uMH/Nq7UKu9+vZHsrzkDMrRFOIphBNIZpCNIVoCtG0EDUtRE0hmkI0hWgK0RSiKURTiKaFqGkhagrRFKIpRFOIphBNIZoxIQ0rzcyQFiKgEE0hmkI0hWgK0RSiGRPSQtQ0rDSFaArRFKIpRFOIphBNIZoWoqaFqClEU4imEE0hmkI0hWgK0bQQNS1ETSGaQjSFaArRFKIpRFOIpoWoaSFqCtEUoilEU4imEE0hmjEhDSvNzJDz7sOpT+TMCtEUoilEU4imEE0hmhaipmGlKURTiKYQTSGaQjSFaArRtBA1LURNIZpCNIVoCtEUoilEU4imhahZtxdnW4ifm0ey7j+6HH1vf3DbXY15tQrRFKIpRFOIphDNmJCHQ+Ptf78CWE52cn9pzKtViOYbLdlCmwZx8lcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzM6MDArMDI6MDCLcbUmAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMzOjAwKzAyOjAw+iwNmgAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">7</td>
      <td align="left">end_station_id
[character]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. (Empty string)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. 13022</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. LF-005</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. 13042</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. TA1308000050</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. 13300</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. 13008</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. TA1307000039</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. KA1504000135</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. TA1308000001</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">11. KA1503000043</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">12. TA1307000117</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 834 others ]</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">764727</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">13.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">83495</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">1.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">53123</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.9%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">44036</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">43629</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">43166</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">42341</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">39972</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">37081</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">36063</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">33960</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">33023</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">4372078</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">77.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAGMAAADsCAQAAADK1NATAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIQJ54eD0AAABmklEQVR42u3XUUrDUBRFUSMZXUegI7Qj6PTqb1K0igjZuaz1F0rlbRrhneX+MsHr0QeQMS9j3T58/PCP8rYcfdyt7WHW/UeXJ1+7HX3uJ4a8VDJKZJTIKJFRIqNkSMbD1bB8/Xtm2d7NzzVotxf1IS/VLuN6v57rB/k647xklMgokVEio0RGiYwSGSXWX4n1VyKjREaJjBIZJTJKZJTIKLH+Sqy/EhklMkpklMgokVEio2RIhtlUMjHD+pMhQ0aSjBIZJTJKZJQMybD+SsymEhklMkpklMgokVEio0RGifVXYv2VyCiRUSKjREaJjBIZJTJKrL8S669ERomMEhklMkpklMgokVFi/ZVYfyUySmSUyCiRUSKjREbJkAyzqWRihvUnQ4aMJBklMkpklMgoGZJh/ZU8zKajj/MvGeclo0RGiYwSGSUySmSUyCix/kqsvxIZJTJKZJTIKJFRIqNERon1V7JuH861/t43P8e6/+hy9Nl+7bZ7GvJSySiRUSKjREaJjJIhGQ9Xw9vf/srhllPdzb815KWSUfIJ+8JEQh+e0GsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzM6MDIrMDI6MDAc7qQPAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMzOjAyKzAyOjAwbbMcswAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">8</td>
      <td align="left">start_lat
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 41.9 (0)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">41.6 &le; 41.9 &le; 42.1</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 0 (0)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">430262 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIQ3pXv1lAAABMklEQVR42u2bQQ7CMAwECerreAG8kL6A78EBokSqgBLZsdnduVS9pB3VsdO4LfcDB8foG5CoRMdY+pPZ83XtLngu9uP3Qy7Do5hweh1v7leiCV2JoiFRNCSKhkTRkCgaEkVDomhIFA2JoiFRNCSKhkTRkCgaNKLBTaZG66x59NUSiXr31WhCV6JoSBQNGtE05aVRK6ptPU0o+qyo1vWUJnQligaNaEgyWgM+Eg7Kuj6Z9RM0oStRNCSKhkTRSPj2UrHdAE0sarsBShO6EkVDomhIFI3EdbRhsXT4C1GLpYOxqHffOo1oxG7QPmiSEY3oxGQUsZsbIjrzj+4tCl0rYgN2oqhtwI53w91EfZ5krdK/L0wGRPcp+Cae7ejf1Et/19ck88mKS6dcwNzeQlNeJIrGA+smLQ6YhQ+uAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTA4VDIxOjMzOjEzKzAyOjAwdjOvJQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0wOFQyMTozMzoxMyswMjowMAduF5kAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">9</td>
      <td align="left">start_lng
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : -87.6 (0)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">-87.8 &le; -87.6 &le; -87.5</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 0 (0)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">409122 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIRnzhCkYAAABUklEQVR42u2byw3CMBBEbZTqUgFUSCqgPTgYkDkQxHp/Gc+7cbHysht7NiL1XubgFH0BFKWojKX/Ef28bu8LOFeN9fpFFvEqJqyllFJuBitP07oURYOiaFAUDYqikSwZvWhhUCcINpJWdH2GQT2SVHQznyfSVFS/hklFraEoGhRFg6JoUBQNiqIxjWj49GI/tzQSVNR6bkkj6gNF0aAoGhRFg6JoUBSNwFDvFecboRX1ifMJRD2hKBoURWMa0fCXY3to/mUjdUU1z9nUopqEtK5v+GsEVdQz/IWK+kNRNCiKBkXRmEbUNRlFJKIQUcuP7H7B1tVlpGl1plK3ispjvM4AwNbVInKndRVtO+34Pvu6YdJnNfXLsZ7Rg8lQNEvTmotqNe0n0sPmcLuu9LAxqGiulh0W3dOxT7T/N3Dtr/eashZyLt2NqGBuXzncZkRRijYeC94wgXDGQTgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzM6MjUrMDI6MDCbbJ38AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMzOjI1KzAyOjAw6jElQAAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">10</td>
      <td align="left">end_lat
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 41.9 (0)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">41.4 &le; 41.9 &le; 42.2</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 0 (0)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">432742 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVISXc61WfAAAA/ElEQVR42u3cQQ6CMBBAUWs4nSfQE8oJvJ7uzGjCQpzS5s//K91UnilUE0p7nmp0Hn0AQoXua4lvxp2v68dHX1vOqHGYZfcoyV3erx5dxi8zdYXSEkqrDHSa5SUWV9WsNXVKaI81tczUFUpLKC2htITSEkpLKC2htITSEkpLKC2htITSEkpLKC2htITSEkpLKC2htITSEkpLKC2htITSmvIO7FjWbefTQ7NuOy8zdYXSEkrr0Kvu+rXlOGuX0nTQuFj02vm7VZmpWwY69JfReuBjAoZCe+/Ujzl1Z+yffzLdoZnnYZzqv6JbPI477Jk/t/AFNJhtszIXI6G0XkdlHAkaDkK3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTA4VDIxOjMzOjM3KzAyOjAwwFmMSwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0wOFQyMTozMzozNyswMjowMLEENPcAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">11</td>
      <td align="left">end_lng
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : -87.6 (0)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">-89 &le; -87.6 &le; -87.5</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 0 (0)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">394293 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVITHGMYHiAAAA50lEQVR42u3cQQ6CMBQA0dZwOk6gJ5QTeD1dlEWNVQouyJ/O26lomHzqpkp+pjFczj4BQw09ZqofRFyvy3rS1/z5Wv0UYKJzmjuOAoT2MZTGUBpDaQylMZTGUBpDaQylMZTGUBpDaQylMZTGUBpDaab/P+Icy85d67Chad3+fXQePcylayiNoTSG0hhKYyiNoTSG0hhKYyiNoTSG0hhKYyiNoTSG0hhKM0xowK39vb9eKEJOtO/v6+8CTrStzLl1k4Ii5ERbtqaMCd0S6tI99jVU5Pq994j3EPnhVq3YDGv7apg1aijNCy+OEmDkr8aEAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTA4VDIxOjMzOjQ5KzAyOjAwmqP+DwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0wOFQyMTozMzo0OSswMjowMOv+RrMAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">12</td>
      <td align="left">user
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Member User</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Casual User</td></tr></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">3120822</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">55.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">2505872</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">44.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEsAAAAqCAQAAABR726eAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVITMoP+DOAAAAf0lEQVRYw+3WSwqAMAyE4UQ8nSfQE+oJej3dRkGoD5op/LMrlPLRZDG+m2KGbACs7xnjYU1dtMVvWGZTGqqcTqJDhAULlkJgwYKlkEuDKO9e+T0eK1Zurw91q4shbg2+a/aaW43bae3uig4RFixYCoEFC5ZCeminOhEdIqwnOQCHOAvHb8r6gAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNS0wOFQyMTozMzo1MSswMjowMGXmsPYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDUtMDhUMjE6MzM6NTErMDI6MDAUuwhKAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">13</td>
      <td align="left">ride_length
[integer]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 1158.1 (2094.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">61 &le; 715 &le; 86391</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 884 (1.8)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">23552 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVITZYVRRBAAAAuUlEQVR42u3csQ2AIBQAUTBM5wQ6IU7getoRKGjUhHjcqzQ0/6K0P15hDsvoAQw19JlUv+Tmwm5x9HBv1QGpPVrL0zl6yo9N8+saSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE0htIYSmMojaE004Sm/tFR9mz8f8dGCLHeGpJhO3/26gNFWFvXNHfUUJobn/wKqcF4BlYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDhUMjE6MzM6NTQrMDI6MDA33p9RAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA4VDIxOjMzOjU0KzAyOjAwRoMn7QAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">14</td>
      <td align="left">ride_distance
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 2209.6 (1967.2)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min &le; med &le; max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 &le; 1649.3 &le; 114511.7</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 1957.6 (0.9)</td></tr></table></td>
      <td align="left" style="vertical-align:middle">1742755 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUCAQAAAD5P9uaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmBQgVIg3Cc66mAAAAyklEQVR42u3cywmEMBgA4T9LqrOC3Qq1AtvTyyoRFEGU4GTmIj4O+TDJTdMUbfSpPQChQq+Vy5N+XbDfVHtgd1Qi8vZWFxERY+0RPlAzU1coLaG0hNISSksoLaG0hNISSksoLaG0hNISSksoLaG0hNISSksoLaG0hNISSksoLaG0hNISSksoLaG0hNISSksoLaG0hNISSksorbx/eYB91n4I7f5HzmftzUxdobTy2QPLtvT2TSmVv/npYf/8+RUvJ8FshzWzRoXSmgGRrQ2tFcsyEwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNS0wOFQyMTozNDoxMyswMjowMJTvtFwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDUtMDhUMjE6MzQ6MTMrMDI6MDDlsgzgAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
</div>
<p>We also get the modes for some of the values:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>" mode of week days\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>week_day</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of hour of day\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>hour</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of month\t\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>month</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of user type\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of bike type\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of duration\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>ride_length</span><span class='op'>)</span>, <span class='st'>"\n"</span>,
<span class='st'>"mode of distance\t:"</span>, <span class='fu'>getmode</span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>ride_distance</span><span class='op'>)</span>, <span class='st'>"\n"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code> mode of week days  : Sat 
 mode of hour of day    : 17 
 mode of month      : Jul 
 mode of user type  : Member User 
 mode of bike type  : Classic 
 mode of duration   : 352 
 mode of distance   : 0 </code></pre>
</div>
<h3 id="important-dataset-elements">Important Dataset elements</h3>
<p>This dataset has over 5.6 Million observations for the last 12 months
(April 2021 - March 2022). Main elements from this dataset are now
discussed under the perspective of an actual service. As a reminder, we
are trying identify the main differences between members and casual
users to increase the sales of memberships.</p>
<p><em>Note : since this is a Google Anlyticâ€™s course project, some
information that should be easy to obtain in the context of actually
working for the company has been guessed using as much common sense as
possible and of course looking at information from the real company that
releases the data (pricing, how the service actually worksâ€¦). Their
website can be found <a
href="https://divvybikes-marketing-staging.lyft.net/">here</a></em></p>
<p><strong>Members make-up 55.5% of the rides and 45.5% are done by
casual users.</strong>The dataset does not identify users, so we do not
know how many members and casual riders use the service. In fact, we can
imagine <em>(but not prove)</em> that there are more casual riders since
members probably ride many times a year.</p>
<p>Classic bikes make-up 56.9% of the rides. Docked bikes are electric
bikes rented by casual users that probably do not have the phone app
installed and have to rent the electric bike from a docking station and
return it to another docking station. Electric bikes are more expensive
than classic bikes. Electric bikes do not have to be locked to a docking
station, so they allow more flexibility (as long as the app is used to
rent the service).</p>
<p>Weekends have more rides than week days, but the difference is not
very big. Weekday use varies between 12.8% on Mondays and 14.3% on
Fridays. In fact, Tuesdays, Wednesdays and Thursdays have almost the
same share of rides, while Mondays are visibly less popular days (-0.6%
compared to Tuesdays) and Fridays are a point above Thursdays, probably
since they are at the beginning of the weekend. Saturday(17.1%) and
Sunday (15.2%) are clearly more popular times, <strong>32.3% of rides
happen on weekends</strong>. Despite the fact that some people work on
weekends, a big part of the bike use on weekends is probably for leisure
purpose (or to ride bike as a sport activity). <strong>It would be
interesting to know what kind of leisure riders seek</strong>.</p>
<p>When we look a the most popular times to ride, we see that
<strong>almost 3/4 of the rides happen in second half of the
day</strong>. This is important because probably a lot of the use made
during the weekdays are not for commuting to work (or school or any
other weekday regular activity). Some users may use the service to
commute only to come back home after work, but then they would have to
use public transportation in the morning. Also, since this is an
aggregation of round-year data, some may use the service to commute only
some days (like when it does not rain, for exampleâ€¦ or whenever they
feel like it).</p>
<p>When we look at monthly data, we see that warmer months (Summer, late
Spring and early Autumn) are way more popular than the colder months. A
special mention has to be made towards <strong>January and February,
both accounting (together) for only 3.8% of the rides</strong>. This is
both not very surprising and very interesting: Chicago is a pretty cold
city in the winter, so probably not very well adapted for riding bikes
during winter days. This difficulty makes it also <strong>very hard for
a person to only rely on the bike system to commute to work</strong> and
become <strong>THE</strong> number 1 option to commute. Also, having 2
months out of 2 where it is difficult to ride could make a yearly
subscription less attractive, for all users.</p>
<p>If we take a closer look at the distribution of rides per day and per
month, we see that during cold months, not only are there less rides in
general, but also the proportion of rides is less important during the
weekends.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/ctable.html'>ctable</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>month</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>week_day</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Cross-Tabulation, Row Proportions</h3>
<h4>month * week_day</h4>
<strong>Data Frame</strong>: df_trips
<br/>
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="28" align="center" class="st-protect-top-border">week_day</th>
<th colspan="4"></th>
</tr>
<tr>
<td align="center">
<strong>month</strong>
</td>
<th colspan="4" align="center">Mon</th>
<th colspan="4" align="center">Tue</th>
<th colspan="4" align="center">Wed</th>
<th colspan="4" align="center">Thu</th>
<th colspan="4" align="center">Fri</th>
<th colspan="4" align="center">Sat</th>
<th colspan="4" align="center">Sun</th>
<th colspan="4" align="center">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">Apr</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">43060</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">51407</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">36707</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">39879</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">57819</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">53574</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">49539</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">331985</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">May</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">74673</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">51208</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">9.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">61589</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">57565</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">65098</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">109950</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">21.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">102351</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">19.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">522434</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jun</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">77604</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">10.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">107760</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">111595</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">89248</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">98856</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">119945</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">111545</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">716553</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jul</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">93165</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">96237</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">98539</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">119250</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">133884</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">160023</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">19.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">107498</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">808596</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Aug</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">108260</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">109306</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">90864</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">100157</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">109888</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">132949</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">140491</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">791915</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Sep</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">91260</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">82576</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">113303</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">120365</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">101291</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">122064</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">113438</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">744297</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Oct</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">62686</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">10.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">83205</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">83174</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">68323</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">97727</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">126491</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">20.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">98939</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">620545</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Nov</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">58821</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">66125</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">18.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">52304</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">41920</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">42342</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">49042</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">43203</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">353757</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Dec</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">29751</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">27905</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">44037</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">18.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">47010</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">19.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">41707</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">29637</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">23347</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">9.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">243394</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jan</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">15495</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">15852</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">14875</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">16259</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">13556</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">14446</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">11310</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">101793</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Feb</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">22370</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">19.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">18705</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">16.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">16674</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">13208</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">11.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">14287</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">12164</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">10.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">15518</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">112926</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Mar</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">42985</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">43758</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">49610</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">43343</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">27082</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">9.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">33874</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">37847</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">278499</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Total</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">720130</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">754044</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">773271</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">756527</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">13.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">803537</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">14.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">964159</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">855026</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">15.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">5626694</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
</tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
</div>
<p>Ride length varies a lot. Members have unlimited rides included in
their plan as long as they do not exceed 45 mins. They then pay
$0.16/min. Casual users pay $1 to access the service and then $0.16/min,
from minute 1. The average ride is 19 minutes long while the median ride
is about 12 minutes. Both values are way under 45 minutes.</p>
<p>Starting and end points are usually docking stations, but about 13%
of the time it is not-docked (electric) bikes. <strong>The most popular
docking station is by far â€œStreeter Dr &amp; Grand Aveâ€</strong>,with
1.5% of rides coming from it or going to it, and is a well known place
for leisure in Chicago. All other stations have a less than 1%
occurrence.</p>
<p>The average ride distance is 2.2 km and <strong>the median ride
distance is 1.6 km</strong>, but letâ€™s keep in mind that is the distance
between start and end, not the distance really ride (and many rides have
a distance of 0 because they ended where they startedâ€¦).</p>
<p>ocking stations are mostly located in Chicago but also in the
Metropolitan area, from Lincolnwood in the North to Riverdale in the
South, <strong>stations are spread in a about 40 km range</strong>. The
map below shows all the stations from the dataset (in blue) and all the
stations found via the Open Street Map (OSM) API (this has been done to
check if the data from OSM seems reliable since we are going to use it
for further analysis). We can see that there is a <strong>high density
of stations in Downtown Chicago and to the North</strong>, but that
density is lower in the South. Density is also lower in the West
compared to the East, where new docking stations are being deployed (we
can see about of dozen docking stations around the town of Norridge have
not been added to OSM already).</p>
<p>Here is the map:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Data from our dataset, chicago stations</span>
<span class='va'>sf_stations</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_as_sf.html'>st_as_sf</a></span><span class='op'>(</span><span class='va'>df_stations</span>,
                                coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lng"</span>, <span class='st'>"lat"</span><span class='op'>)</span>,
                                crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span>

<span class='co'>#OSM stations data, to compare</span>
<span class='va'>q_bikes</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/getbb.html'>getbb</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"amenity"</span>, <span class='st'>"bicycle_rental"</span><span class='op'>)</span>

<span class='va'>osm_bikes</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='va'>q_bikes</span><span class='op'>)</span>
<span class='co'>#https://stackoverflow.com/questions/61286108/error-in-cpl-transformx-crs-aoi-pipeline-reverse-ogrcreatecoordinatetrans</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>osm_bikes</span><span class='op'>$</span><span class='va'>osm_points</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>4326</span>
<span class='va'>sf_bikes</span> <span class='op'>&lt;-</span> <span class='va'>osm_bikes</span><span class='op'>$</span><span class='va'>osm_points</span>

<span class='co'>#Chicago map layer</span>
<span class='va'>chicago_map</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/get_stamenmap.html'>get_stamenmap</a></span><span class='op'>(</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/getbb.html'>getbb</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span>, 
                       maptype <span class='op'>=</span> <span class='st'>"terrain"</span>,
                       crop<span class='op'>=</span><span class='cn'>FALSE</span>,
                       zoom <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>chicago_map</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_bikes</span>,
          inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
          <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"OSM"</span><span class='op'>)</span>,
          <span class='co'>#fill = "blue",</span>
          alpha <span class='op'>=</span> <span class='fl'>1</span>,
          size <span class='op'>=</span> <span class='fl'>1</span>,
          shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
             y<span class='op'>=</span> <span class='va'>lat</span>,
             colour <span class='op'>=</span> <span class='st'>"Cyclistic"</span><span class='op'>)</span>,
             <span class='co'>#fill = "Cyclistic"),</span>
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             size <span class='op'>=</span> <span class='fl'>.5</span>,
             shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"Data source"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>OSM<span class='op'>=</span><span class='st'>"red"</span>, Cyclistic<span class='op'>=</span><span class='st'>"blue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://stackoverflow.com/questions/24496984/how-to-add-legend-to-ggplot-manually-r</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    <span class='co'># Change legend key size and key width</span>
    legend.key.size <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,
    legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>,<span class='st'>"cm"</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Location of Cyclistic docking stations"</span>,
            subtitle <span class='op'>=</span> <span class='st'>"Data from Cyclistic dataset vs Open Street Map data"</span>, 
            caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/map1%20darw%20map-1.png" width="624" /></p>
</div>
<h2 id="member-users-and-casual-users-main-differences">Member users and
casual users main differences</h2>
<h3
id="time-based-differences-between-members-and-casual-users">Time-based
differences between members and casual users</h3>
<h4 id="use-of-bikes-per-week-day">Use of bikes per week day</h4>
<p>Here is a frequency table and a graphic to see the difference in the
use per week day:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/ctable.html'>ctable</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>week_day</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Cross-Tabulation, Row Proportions</h3>
<h4>week_day * user</h4>
<strong>Data Frame</strong>: df_trips
<br/>
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="8" align="center" class="st-protect-top-border">user</th>
<th colspan="4"></th>
</tr>
<tr>
<td align="center">
<strong>week_day</strong>
</td>
<th colspan="4" align="center">Member User</th>
<th colspan="4" align="center">Casual User</th>
<th colspan="4" align="center">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">Mon</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">431793</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">60.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">288337</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">40.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">720130</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Tue</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">481989</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">63.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">272055</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">36.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">754044</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Wed</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">491379</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">63.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">281892</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">36.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">773271</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Thu</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">467442</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">61.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">289085</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">38.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">756527</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Fri</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">445076</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">358461</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">803537</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Sat</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">423006</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">43.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">541153</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">56.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">964159</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Sun</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">380137</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">474889</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">855026</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Total</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">3120822</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">2505872</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">5626694</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
</tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization-2.1.pdf</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>week_day</span>, 
                       fill <span class='op'>=</span> <span class='va'>user</span>
                       <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Paired"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Use of bikes per day of the week"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Day of the week"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of rides in a year (x 1000)"</span>,
       fill <span class='op'>=</span> <span class='st'>"User type"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://stackoverflow.com/questions/44600061/ggplot-scales-unit-format-thousands-one-decimal-place</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/weekday%20difference-1.png" width="624" /></p>
</div>
<p>During weekdays, most of the rides are done by members, they make
about 60% of them from Monday to Thursday, and 55% of them on Fridays.
During the weekends, the tendency is reversed and casual users make
about 55% of the rides. It is also interesting to see that
<strong>members make less rides during the weekends, in absolute
numbers</strong>. In comparison, <strong>rides by casual users on
Saturdays are double the ones on Tuesdays</strong>. It is also
interesting to see that on Fridays, rides by members are similar to
other workdays but the proportion decreases mostly due to an increase of
casual user rides.</p>
<p>This data shows that there is a <strong>consistent base of trips done
by casual users during all days of the week</strong>, even on week days.
This is interesting because <strong>if we want to increase memberships,
there might be a good base of potential users with no time-based
limitations</strong>. On the other hand, the big amount of casual user
rides during the weekends could both be due to Chicago residents using
the service for leisure, in which case <strong>maybe the current
membership system is not adapted to their use</strong>, and to tourists
coming for the weekend, in which case membership is not really a viable
option.</p>
<p>If the goal is to sell memberships to casual riders, maybe
<strong>marketing campaigns should take place on weekends</strong>.</p>
<h3 id="use-of-bikes-per-month">Use of bikes per month</h3>
<p>Here is a frequency table and a graphic to see the difference in the
use per month:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/ctable.html'>ctable</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>month</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Cross-Tabulation, Row Proportions</h3>
<h4>month * user</h4>
<strong>Data Frame</strong>: df_trips
<br/>
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="8" align="center" class="st-protect-top-border">user</th>
<th colspan="4"></th>
</tr>
<tr>
<td align="center">
<strong>month</strong>
</td>
<th colspan="4" align="center">Member User</th>
<th colspan="4" align="center">Casual User</th>
<th colspan="4" align="center">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">Apr</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">197367</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">59.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">134618</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">40.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">331985</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">May</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">269704</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">51.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">252730</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">48.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">522434</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jun</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">352402</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">49.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">364151</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">50.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">716553</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jul</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">373588</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">46.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">435008</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">53.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">808596</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Aug</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">385180</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">48.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">406735</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">51.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">791915</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Sep</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">385686</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">51.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">358611</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">48.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">744297</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Oct</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">367282</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">59.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">253263</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">40.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">620545</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Nov</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">248584</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">70.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">105173</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">29.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">353757</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Dec</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">174812</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">71.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">68582</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">28.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">243394</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Jan</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">83720</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">82.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">18073</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">17.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">101793</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Feb</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">92022</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">81.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">20904</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">18.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">112926</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Mar</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">190475</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">68.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">88024</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">31.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">278499</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Total</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">3120822</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">2505872</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">5626694</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
</tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>month</span>, 
                       fill <span class='op'>=</span> <span class='va'>user</span>, 
  <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Paired"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Use of bikes per month"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Month"</span>,
       y<span class='op'>=</span> <span class='st'>"number of rides (x 1000)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://stackoverflow.com/questions/44600061/ggplot-scales-unit-format-thousands-one-decimal-place</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
  legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
  legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
  panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                              fill <span class='op'>=</span> <span class='cn'>NA</span>,
                              size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/month%20difference-1.png" width="624" /></p>
</div>
<p>As we can observe, the <strong>high seasonality</strong> of the
service also affects the distribution of the type of user. From May to
September, the amount of rides done by members and casual users is
almost even, and significantly higher for casual users during July (6%
more). During the colder months, most rides are done by members, from
60% of the rides on April to over 80% in January and February.</p>
<p>This data shows that casual rides from December to March are very
low, which can make it <strong>challenging to increase yearly
subscriptions if the service is not accessed 30% of the time</strong>.
Looking at the data from Members can however give us some hope, since
this group also makes way less rides during the winter (member rides in
January are about 1/4 of the ones in July). In fact, rides by members in
July, August and September double or more than double rides in December,
January and February, and almost double those in March and April.
<strong>It could be a good idea to get information about why users
subscribe to a service they do not use (or way less often) almost half
of the year</strong> <em>(Again, since this is case study, we do not
have access to individual user rides, but if we were working with all
the available data, it would be necessary to see the rides per member
and also how much individual casual users use the service in a
year)</em>. But there is definitely less amplitude with member data,
since <strong>casual user rides in January and February are 20 times
less abundant than in July and August.</strong></p>
<p>This data also seems to work well with the previous one about days of
the week. There is probably a fair amount of leisure riders that use the
service with good weather conditions. <strong>Finding ways to make
winter rides more attractive could increase the pool of users
potentially interested in memberships.</strong> Also, <strong>it is
probably a better idea to make marketing efforts from May to
September</strong> when the service is attractive, and definitely not
during the winter.</p>
<p>Finally, there is probably a fair amount of rides during summer
holidays by foreigners to Chicago, in which case the yearly subscription
method is not adapted.</p>
<h3 id="use-of-service-per-hour-of-the-day">Use of service per hour of
the day</h3>
<p>The following table summarizes the use of the service per hour of the
day (of starting point):</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/ctable.html'>ctable</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>hour</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Cross-Tabulation, Row Proportions</h3>
<h4>hour * user</h4>
<strong>Data Frame</strong>: df_trips
<br/>
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="8" align="center" class="st-protect-top-border">user</th>
<th colspan="4"></th>
</tr>
<tr>
<td align="center">
<strong>hour</strong>
</td>
<th colspan="4" align="center">Member User</th>
<th colspan="4" align="center">Casual User</th>
<th colspan="4" align="center">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">0</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">33463</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">38.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">53115</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">61.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">86578</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">1</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">22137</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">36.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">38839</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">63.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">60976</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">2</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">12754</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">33.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">25529</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">66.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">38283</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">3</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">7402</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">34.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">14043</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">65.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">21445</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">4</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">8404</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">46.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">9822</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">53.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">18226</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">5</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">31312</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">71.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">12621</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">28.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">43933</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">6</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">83307</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">76.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">25973</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">23.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">109280</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">7</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">156034</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">76.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">47541</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">23.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">203575</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">8</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">182109</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">73.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">64419</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">26.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">246528</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">9</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">134241</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">63.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">75905</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">36.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">210146</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">10</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">130408</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">103561</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">233969</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">11</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">156131</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">53.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">133870</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">46.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">290001</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">12</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">181408</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">53.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">159373</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">46.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">340781</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">13</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">177753</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">51.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">170410</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">48.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">348163</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">14</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">174898</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">49.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">175756</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">50.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">350654</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">15</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">203364</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">52.2%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">186372</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">47.8%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">389736</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">16</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">263778</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">56.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">203427</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">43.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">467205</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">17</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">327358</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">58.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">234494</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">41.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">561852</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">18</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">274871</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">56.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">212564</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">43.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">487435</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">19</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">196893</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">54.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">165144</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">45.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">362037</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">20</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">133839</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">52.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">120967</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">47.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">254806</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">21</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">100089</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">49.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">103072</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">50.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">203161</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">22</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">76447</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">95573</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">172020</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">23</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">52422</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">41.6%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">73482</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">58.4%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">125904</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Total</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">3120822</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">55.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">2505872</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">44.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">5626694</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
</tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
</div>
<p>As we can see, members usually represent most of the rides. We can
however see some interesting time frames:</p>
<ul>
<li><strong>From 5 AM to 9 AM, members represent between 63% and 76% of
the rides:</strong> This is usually a time frame when people commute to
work AND also when people do not do leisure activities.</li>
<li>From 10 AM to 3 PM, members do more rides, but it is more even.</li>
<li>From 4 PM to 7 PM, members do significantly more rides than casual
users, but the amount of total rides is also bigger. People probably
commute from work and some others also enjoy leisure time in this
range.</li>
<li>From 8 PM to 9 PM, the use of the service starts to decrease and it
evens between members and casual users.</li>
<li>From 10 PM to 4 AM, the service is very low and it is mostly used by
casual users.</li>
</ul>
<p>We could estimate to know how many people use the service to commute.
For this, we can calculate the percentage of members and casual users
that use the service from 5 AM to 9 AM on week days, from the total
amount of rides:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>hour</span><span class='op'>==</span><span class='fl'>5</span> <span class='op'>|</span><span class='va'>hour</span><span class='op'>==</span><span class='fl'>6</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>7</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>8</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>9</span> <span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>week_day</span><span class='op'>!=</span><span class='st'>"Sat"</span> <span class='op'>&amp;</span> <span class='va'>week_day</span> <span class='op'>!=</span> <span class='st'>"Sun"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Member User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span> <span class='op'>/</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>         n
1 8.825378</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>hour</span><span class='op'>==</span><span class='fl'>5</span> <span class='op'>|</span><span class='va'>hour</span><span class='op'>==</span><span class='fl'>6</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>7</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>8</span> <span class='op'>|</span> <span class='va'>hour</span><span class='op'>==</span><span class='fl'>9</span> <span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>week_day</span><span class='op'>!=</span><span class='st'>"Sat"</span> <span class='op'>&amp;</span> <span class='va'>week_day</span> <span class='op'>!=</span> <span class='st'>"Sun"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Casual User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span> <span class='op'>/</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>         n
1 2.787498</code></pre>
</div>
<p>Member rides from 5 AM to 9 AM on week days represent 8.82 % of the
total rides, and 2.79% for the casual users. Also, people who commute
have to go both ways. Some of this rides could also be for other
purposes. Some people may also commute at different times (even earlier
for some users, people who work at nightâ€¦) or even on weekends. It would
be good to have a more detailed use of the service. We can however
estimate that <strong>between 15% and 20% of the rides are done to
commute</strong>, and the restâ€¦ <em>probably</em> leisure. It is also
important to note that, always as an estimation, <strong>members make up
around 3/4 of the commute rides.</strong>.</p>
<p>Here is a plot of the distribution of rides per hour of the day:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>hour</span>, 
                       fill <span class='op'>=</span> <span class='va'>user</span>
  <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Paired"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Use of bikes per hour of the day"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Hour of the day"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of rides in a year (x 1000)"</span>,
       fill <span class='op'>=</span> <span class='st'>"User type"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/plot%20hour%20day-1.png" width="624" /></p>
</div>
<p>Developing the use of the bike service in the mornings (to commute or
other uses) probably needs to create a new market, since there are very
little users for both groups in that range. Creating a new market could
be advantageous because the bikes are already there. Ideas to create new
market segment:</p>
<ul>
<li>Focus on elder people, recently retired (Senior plans for example,
with adapted pricing)</li>
<li>Partner with companies or other employers to offer memberships as
perks so people commute on bikes. This could be a cheap attractive perk
for the company, could also be used to communicate about low carbon
emissions and should have a beneficial impact on employeesâ€™ health.</li>
</ul>
<p>In the afternoons, there is already a high demand, so the goal should
be to create new memberships focusing on existing users:</p>
<ul>
<li>If marketing campaigns are done, do them in the afternoons</li>
<li>Offer exclusive service to members, related to their leisure
activities: Make the subscription be more than just an economical
gain.</li>
</ul>
<h3 id="length-of-use-of-the-service">Length of use of the service</h3>
<p>We have a look at ride length by user type:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/stby.html'>stby</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>ride_length</span><span class='op'>/</span><span class='fl'>60</span>,
     INDICES <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span>,
     FUN <span class='op'>=</span> <span class='va'>descr</span>,
     stats <span class='op'>=</span> <span class='st'>"common"</span>,
     transpose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
     method<span class='op'>=</span><span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Descriptive Statistics</h3>
<h4> ride_length/60 by user </h4>
<strong>Data Frame</strong>: df_trips
  <br/><strong>N</strong>: 3120822
<br/>
<table class="table table-bordered table-striped st-table st-table-bordered st-table-striped st-descr-table ">
  <thead>
    <tr>
      <th></th>
      <th align="center" class="st-protect-top-border">Mean</th>
      <th align="center" class="st-protect-top-border">Std.Dev</th>
      <th align="center" class="st-protect-top-border">Min</th>
      <th align="center" class="st-protect-top-border">Median</th>
      <th align="center" class="st-protect-top-border">Max</th>
      <th align="center" class="st-protect-top-border">N.Valid</th>
      <th align="center" class="st-protect-top-border">Pct.Valid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Member User</strong></td>
      <td><span>13.32</span></td>
      <td><span>19.71</span></td>
      <td><span>1.02</span></td>
      <td><span>9.53</span></td>
      <td><span>1435.47</span></td>
      <td><span>3120822</span></td>
      <td><span>100.00</span></td>
    </tr>
    <tr>
      <td>
        <strong>Casual User</strong></td>
      <td><span>26.75</span></td>
      <td><span>46.38</span></td>
      <td><span>1.02</span></td>
      <td><span>15.97</span></td>
      <td><span>1439.85</span></td>
      <td><span>2505872</span></td>
      <td><span>100.00</span></td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Ride length per User type</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span>outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>user</span>,
                             y <span class='op'>=</span> <span class='va'>ride_length</span>,
                             fill <span class='op'>=</span> <span class='va'>user</span>
                             <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride Length per user type"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In minutes"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"User type"</span>,
       y<span class='op'>=</span> <span class='st'>"Duration of rides (mins)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Paired"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,
        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>
    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>3000</span><span class='op'>)</span>,
    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>300</span>, <span class='fl'>600</span>, <span class='fl'>900</span>, <span class='fl'>1200</span>, <span class='fl'>1500</span>, <span class='fl'>1800</span>, <span class='fl'>2100</span>, <span class='fl'>2400</span>, <span class='fl'>2700</span>, <span class='fl'>3000</span><span class='op'>)</span>,
    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"5"</span>, <span class='st'>"10"</span>, <span class='st'>"15"</span>, <span class='st'>"20"</span>, <span class='st'>"25"</span>, <span class='st'>"30"</span>, <span class='st'>"35"</span>, <span class='st'>"40"</span>, <span class='st'>"45"</span>, <span class='st'>"50"</span><span class='op'>)</span>,
    <span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/length1-1.png" width="624" /></p>
</div>
<p>Rides done by members are usually 10 minutes shorter than the ones by
casual users, and the median ride is 5 minutes shorter. We can also see
that members use the service in a more regular way, the amplitude of use
of the service is way lower than for casual users. Half of the trips for
members last between 5 and 15 minutes, and between 8 and 23 minutes for
members. It is curious to see that the maximum length for casual users
(without the outlier points) is close but above 45 minutes, and slightly
above 30 minutes for members. Since the membership includes unlimited
rides under 45 minutes, we can state:</p>
<ul>
<li>That <strong>the current membership offer could fit most current
casual usersâ€™ needs</strong>.</li>
<li>That <strong>13.4% of casual users make longer than 45 minutes
trips</strong> (see the calculation below). So for them, the current
membership is not adapted.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<pre class="rpercent"><code>df_trips %&gt;%
  filter(user == &quot;Casual User&quot;) %&gt;%
  select(ride_length) %&gt;%
  count(ride_length &gt; 2700) %&gt;%
  mutate(percent = n*100/sum(n))</code></pre>
</details>
</div>
<p>On the other hand, <strong>members almost never drive longer than 45
minutes, in fact, not even close</strong>. t could be important for
users to make sure that they will never pay over the extra $0.16 per
minute if they pay for a subscription. This could probably be seen as
paying twice but this is an assumption, not a claim. it could be
interesting to <strong>see if increasing the maximum length of the ride
without extra charging could increase the amount of
subscriptions</strong> by casual users. Maybe different kind of
subscriptions with different maximum length amounts and pricing could be
offered.</p>
<p>It would be good to know why do this users drive that long (do they
have longer distances to ride, do they ride way slower, do they use the
bikes to make sportâ€¦)</p>
<p>We can also compare the length of rides between members and casual
users for a weekly or monthly period :</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Ride length per user type and day of the week</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span>outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>user</span>,
                             y <span class='op'>=</span> <span class='va'>ride_length</span>,
                             fill <span class='op'>=</span> <span class='va'>week_day</span>
               <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride Length per user type and day of the week"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In minutes"</span>,
       caption <span class='op'>=</span> <span class='st'>'Cyclistic"s dataset, period: April 2021 - Mars 2022 \t E. Narro'</span>,
       x <span class='op'>=</span> <span class='st'>"User type"</span>,
       y<span class='op'>=</span> <span class='st'>"Duration of rides (mins)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set1"</span>, name<span class='op'>=</span><span class='st'>"Day of the week"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>
    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>3800</span><span class='op'>)</span>,
    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>300</span>, <span class='fl'>600</span>, <span class='fl'>900</span>, <span class='fl'>1200</span>, <span class='fl'>1500</span>, <span class='fl'>1800</span>, <span class='fl'>2100</span>, <span class='fl'>2400</span>, <span class='fl'>2700</span>, <span class='fl'>3000</span>, <span class='fl'>3300</span>, <span class='fl'>3600</span><span class='op'>)</span>,
    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"5"</span>, <span class='st'>"10"</span>, <span class='st'>"15"</span>, <span class='st'>"20"</span>, <span class='st'>"25"</span>, <span class='st'>"30"</span>, <span class='st'>"35"</span>, <span class='st'>"40"</span>, <span class='st'>"45"</span>, <span class='st'>"50"</span>, <span class='st'>"55"</span>, <span class='st'>"60"</span><span class='op'>)</span>,
  <span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="cyclistic_files/figure-html5/length%20per%20week%20and%20month-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Ride length per user type and month</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span>outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>user</span>,
                             y <span class='op'>=</span> <span class='va'>ride_length</span>,
                             fill <span class='op'>=</span> <span class='va'>month</span>
               <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride Length per user type and month"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In minutes"</span>,
       caption <span class='op'>=</span> <span class='st'>'Cyclistic"s dataset, period: April 2021 - Mars 2022 \t E. Narro'</span>,
       x <span class='op'>=</span> <span class='st'>"User type"</span>,
       y<span class='op'>=</span> <span class='st'>"Duration of rides (mins)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set3"</span>, name<span class='op'>=</span><span class='st'>"Day of the week"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.key.height<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>'cm'</span><span class='op'>)</span>,
        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>ncol<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span> <span class='co'>#make the legend have 2 cols</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>
    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>3800</span><span class='op'>)</span>,
    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>300</span>, <span class='fl'>600</span>, <span class='fl'>900</span>, <span class='fl'>1200</span>, <span class='fl'>1500</span>, <span class='fl'>1800</span>, <span class='fl'>2100</span>, <span class='fl'>2400</span>, <span class='fl'>2700</span>, <span class='fl'>3000</span>, <span class='fl'>3300</span>, <span class='fl'>3600</span><span class='op'>)</span>,
    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"5"</span>, <span class='st'>"10"</span>, <span class='st'>"15"</span>, <span class='st'>"20"</span>, <span class='st'>"25"</span>, <span class='st'>"30"</span>, <span class='st'>"35"</span>, <span class='st'>"40"</span>, <span class='st'>"45"</span>, <span class='st'>"50"</span>, <span class='st'>"55"</span>, <span class='st'>"60"</span><span class='op'>)</span>,
  <span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/length%20per%20week%20and%20month-2.png" width="624" /></p>
</div>
<p>As we can see, members have a more consistent use of the service,
with shorter rides along weekdays and more long rides during the
weekends. Casual users follow this trend too, but it seems less
homogeneous, and the amplitude is way bigger.</p>
<p>The homogeneity of members rides is even more visible when length is
studied by month. Winter months see shorter rides, but <strong>casual
users actually make the longest rides in April and May</strong>. This is
important because if we decide to market memberships at this period of
the year (as stated earlier), we could be offering a product not adapted
to a fair amount of users.</p>
<p>The following density chart also gives a good image of the use
length:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_density.html'>geom_density</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>ride_length</span>, color <span class='op'>=</span> <span class='va'>user</span>, fill<span class='op'>=</span><span class='va'>user</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes_eval.html'>after_stat</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride Length density per user type"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In minutes"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Duration of rides (mins)"</span>,
       y <span class='op'>=</span> <span class='st'>"Amount of rides (thousands)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set1"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>
    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>3000</span><span class='op'>)</span>,
    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>300</span>, <span class='fl'>600</span>, <span class='fl'>900</span>, <span class='fl'>1200</span>, <span class='fl'>1500</span>, <span class='fl'>1800</span>, <span class='fl'>2100</span>, <span class='fl'>2400</span>, <span class='fl'>2700</span>, <span class='fl'>3000</span><span class='op'>)</span>,
    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"5"</span>, <span class='st'>"10"</span>, <span class='st'>"15"</span>, <span class='st'>"20"</span>, <span class='st'>"25"</span>, <span class='st'>"30"</span>, <span class='st'>"35"</span>, <span class='st'>"40"</span>, <span class='st'>"45"</span>, <span class='st'>"50"</span><span class='op'>)</span>,
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/unnamed-chunk-1-1.png" width="624" /></p>
</div>
<p>A significant amount of member rides are under 10 minutes, even under
5 minutes. It is the biggest and main difference between both groups:
<strong>members do a lot of short rides</strong>. However, correlation
does not imply causation, so we can not know if users subscribe to ride
quickly between points or if members ride more often, shorter periods,
because they already paid and then: â€œwhy notâ€.</p>
<p>The histograms below also show this trends.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Histogam of length of ride 0-3000</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>ride_length</span>, fill<span class='op'>=</span><span class='va'>week_day</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
                 <span class='co'>#col = "black")+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution of ride length"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. 0 - 50 mins"</span>,
       caption <span class='op'>=</span> <span class='st'>'Cyclistic"s dataset, period: April 2021 - Mars 2022 \t E. Narro'</span>,
       x <span class='op'>=</span> <span class='st'>"Ride length (mins)"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of observations (thousands)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0000</span>, <span class='fl'>3000</span><span class='op'>)</span>,
                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>300</span>, <span class='fl'>600</span>, <span class='fl'>900</span>, <span class='fl'>1200</span>, <span class='fl'>1500</span>, <span class='fl'>1800</span>, <span class='fl'>2100</span>, <span class='fl'>2400</span>, <span class='fl'>2700</span>, <span class='fl'>3000</span><span class='op'>)</span>,
                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"5"</span>, <span class='st'>"10"</span>, <span class='st'>"15"</span>, <span class='st'>"20"</span>, <span class='st'>"25"</span>, <span class='st'>"30"</span>, <span class='st'>"35"</span>, <span class='st'>"40"</span>, <span class='st'>"45"</span>, <span class='st'>"50"</span><span class='op'>)</span>,<span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>user</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="cyclistic_files/figure-html5/histograms%20per%20day-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Histogam of length of ride 3000-6000</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>ride_length</span>, fill<span class='op'>=</span><span class='va'>week_day</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
                 <span class='co'>#col = "black")+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution of ride length"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. 50 - 100 mins"</span>,
       caption <span class='op'>=</span> <span class='st'>'Cyclistic"s dataset, period: April 2021 - Mars 2022 \t E. Narro'</span>,
       x <span class='op'>=</span> <span class='st'>"Ride length (mins)"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of observations (thousands)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3000</span>, <span class='fl'>6000</span><span class='op'>)</span>,
                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3000</span>, <span class='fl'>3300</span>, <span class='fl'>3600</span>, <span class='fl'>3900</span>, <span class='fl'>4200</span>, <span class='fl'>4500</span>, <span class='fl'>4800</span>, <span class='fl'>5100</span>, <span class='fl'>5400</span>, <span class='fl'>5700</span>, <span class='fl'>6000</span><span class='op'>)</span>,
                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"50"</span>, <span class='st'>"55"</span>, <span class='st'>"60"</span>, <span class='st'>"65"</span>, <span class='st'>"70"</span>, <span class='st'>"75"</span>, <span class='st'>"80"</span>, <span class='st'>"85"</span>, <span class='st'>"90"</span>, <span class='st'>"95"</span>, <span class='st'>"100"</span><span class='op'>)</span>,<span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>user</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/histograms%20per%20day-2.png" width="624" /></p>
</div>
<h3
id="geographic-differences-between-members-and-casual-users">Geographic
differences between members and casual users</h3>
<h4 id="ride-distance">Ride distance</h4>
<p>As previously stated, we do not really have the information about
actual ride distance. but we have information about distance between
starting and ending point. Letâ€™s have a look at the ride distance
distribution per user type:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/stby.html'>stby</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>ride_distance</span>,
     INDICES <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span>,
     FUN <span class='op'>=</span> <span class='va'>descr</span>,
     stats <span class='op'>=</span> <span class='st'>"common"</span>,
     transpose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
     method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Descriptive Statistics</h3>
<h4> ride_distance by user </h4>
<strong>Data Frame</strong>: df_trips
  <br/><strong>N</strong>: 3120822
<br/>
<table class="table table-bordered table-striped st-table st-table-bordered st-table-striped st-descr-table ">
  <thead>
    <tr>
      <th></th>
      <th align="center" class="st-protect-top-border">Mean</th>
      <th align="center" class="st-protect-top-border">Std.Dev</th>
      <th align="center" class="st-protect-top-border">Min</th>
      <th align="center" class="st-protect-top-border">Median</th>
      <th align="center" class="st-protect-top-border">Max</th>
      <th align="center" class="st-protect-top-border">N.Valid</th>
      <th align="center" class="st-protect-top-border">Pct.Valid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Member User</strong></td>
      <td><span>2142.41</span></td>
      <td><span>1889.28</span></td>
      <td><span>0.00</span></td>
      <td><span>1561.37</span></td>
      <td><span>32058.72</span></td>
      <td><span>3120822</span></td>
      <td><span>100.00</span></td>
    </tr>
    <tr>
      <td>
        <strong>Casual User</strong></td>
      <td><span>2293.20</span></td>
      <td><span>2057.15</span></td>
      <td><span>0.00</span></td>
      <td><span>1757.17</span></td>
      <td><span>114511.71</span></td>
      <td><span>2505872</span></td>
      <td><span>100.00</span></td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span>outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>user</span>,
                             y <span class='op'>=</span> <span class='va'>ride_distance</span>,
                             fill <span class='op'>=</span> <span class='va'>user</span>
               <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride distance between start and end point"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In meters"</span>,
       caption <span class='op'>=</span> <span class='st'>'Cyclistic"s dataset, period: April 2021 - Mars 2022 \t E. Narro'</span>,
       x <span class='op'>=</span> <span class='st'>"User type"</span>,
       y<span class='op'>=</span> <span class='st'>"Distance between start and end (m)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Paired"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,
        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>6000</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="cyclistic_files/figure-html5/ride%20distance1-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_density.html'>geom_density</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>ride_distance</span>, color <span class='op'>=</span> <span class='va'>user</span>, fill<span class='op'>=</span><span class='va'>user</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes_eval.html'>after_stat</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Ride distance density per user type"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022. In meters"</span>,
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset, period: April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Distance of rides (m)"</span>,
       y <span class='op'>=</span> <span class='st'>"Amount of rides (thousands)"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set1"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4000</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/ride%20distance1-2.png" width="624" /></p>
</div>
<p>We can see several interesting things here. Casual users ride
slightly longer distances both in average and as median values (between
100 and 200 m). The distributions of distance are very similar, with a
bit more amplitude for casual users.</p>
<p>This initial observations seem to go in the same direction than the
time-based differences, but in a less obvious way.</p>
<p>It is interesting to see that for the 0 distance trips, non-members
are much more represented than members. In fact, rides of 0 distance
represent 5.56% of the dataset, 3.5% only for casual riders (see
calculation below).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>==</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Casual User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>percent <span class='op'>=</span> <span class='va'>n</span><span class='op'>*</span><span class='fl'>100</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>total_percent <span class='op'>=</span> <span class='va'>n</span><span class='op'>*</span><span class='fl'>100</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>  user == &quot;Casual User&quot;      n  percent total_percent
1                 FALSE 112295 35.86611      1.995755
2                  TRUE 200800 64.13389      3.568703</code></pre>
</div>
<h5 id="rides-of-distance-0">Rides of distance 0</h5>
<p>The following map represents the 10 docking stations with more bikes
used and returned to the same place, by user type. We can see that all
the stations for both groups are around downtown Chicago. It is worth
mentioning that <strong>one point for member users is near
University</strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Fix station file !!</span>
<span class='va'>df_stations</span> <span class='op'>&lt;-</span> <span class='va'>df_stations</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>id_original</span>, .keep_all <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Get the dataframes</span>
<span class='va'>df_stations_zero_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>==</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Casual User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_stations_zero_casual</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_stations_zero_casual</span>, 
                    <span class='va'>df_stations</span>, 
                    by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"start_station_id"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_stations_zero_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_stations_zero_casual</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>

<span class='va'>df_stations_zero_members</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>==</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Member User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_stations_zero_members</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_stations_zero_members</span>, 
                    <span class='va'>df_stations</span>, 
                    by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"start_station_id"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_stations_zero_members</span> <span class='op'>&lt;-</span> <span class='va'>df_stations_zero_members</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>

<span class='co'>#Commercial area</span>
<span class='va'>q_commercial_area</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/getbb.html'>getbb</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"landuse"</span>, <span class='st'>"commercial"</span><span class='op'>)</span>
<span class='va'>osm_commercial_area</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='va'>q_commercial_area</span><span class='op'>)</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>osm_commercial_area</span><span class='op'>$</span><span class='va'>osm_polygons</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>4326</span>
<span class='va'>sf_commercial_area</span> <span class='op'>&lt;-</span> <span class='va'>osm_commercial_area</span><span class='op'>$</span><span class='va'>osm_polygon</span>

<span class='co'>#Parks</span>
<span class='va'>q_park</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/getbb.html'>getbb</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"leisure"</span>, <span class='st'>"park"</span><span class='op'>)</span>
<span class='va'>osm_park</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='va'>q_park</span><span class='op'>)</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>osm_park</span><span class='op'>$</span><span class='va'>osm_polygons</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>4326</span>
<span class='va'>sf_park</span> <span class='op'>&lt;-</span> <span class='va'>osm_park</span><span class='op'>$</span><span class='va'>osm_polygon</span>
<span class='va'>station_map_1</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/get_stamenmap.html'>get_stamenmap</a></span><span class='op'>(</span> bbox<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>left <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.85</span>, 
                                      bottom <span class='op'>=</span> <span class='fl'>41.85</span>,
                                      right <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.4</span>,
                                      top <span class='op'>=</span> <span class='fl'>42.0</span><span class='op'>)</span>,
                               zoom <span class='op'>=</span> <span class='fl'>11</span>,
                               crop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='va'>station_map_2</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/get_stamenmap.html'>get_stamenmap</a></span><span class='op'>(</span> bbox<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>left <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.65</span>, 
                                      bottom <span class='op'>=</span> <span class='fl'>41.85</span>,
                                      right <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.6</span>,
                                      top <span class='op'>=</span> <span class='fl'>41.9</span><span class='op'>)</span>,
                               zoom <span class='op'>=</span> <span class='fl'>13</span>,
                               crop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> 
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggmap</span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>station_map_1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_sf</span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_commercial_area</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"commercial"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"yellow"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_sf</span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_park</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"parks"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"green"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_point</span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_zero_casual</span>,
             <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Casual"</span>,
                 size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span> 
  <span class='fu'>geom_point</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_zero_members</span>,
             <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Members"</span>,
                 size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'>annotation_scale</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>annotation_north_arrow</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>scale_color_manual</span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                    values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Members<span class='op'>=</span><span class='st'>"blue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>scale_fill_manual</span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"Land Use"</span>,
                    values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>commercial<span class='op'>=</span><span class='st'>"yellow"</span>, parks<span class='op'>=</span><span class='st'>"green"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Location of most popular docking stations"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Stations where rides both start and end"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_rect</span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.64</span>, xmax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>87.6</span>,   ymin <span class='op'>=</span> <span class='fl'>41.838</span>, ymax <span class='op'>=</span> <span class='fl'>41.93</span>, alpha <span class='op'>=</span> <span class='fl'>0</span>, color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/distance%20zero%20map-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>station_map_2</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_commercial_area</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"commercial"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"yellow"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_park</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"parks"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"green"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_zero_casual</span>,
              <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                  y<span class='op'>=</span> <span class='va'>lat</span>,
                  color <span class='op'>=</span> <span class='st'>"Casual"</span>,
                  size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
              alpha <span class='op'>=</span> <span class='fl'>1</span>,
              shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_zero_members</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Members"</span>,
                 size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Members<span class='op'>=</span><span class='st'>"blue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"Land Use"</span>,
                    values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>commercial<span class='op'>=</span><span class='st'>"yellow"</span>, parks<span class='op'>=</span><span class='st'>"green"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Location of most popular docking stations"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Stations where rides both start and end"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/distance%20zero%20map%202-1.png" width="624" /></p>
</div>
<p>We can see that most of the rides that end and start in the same
place are in very leisure-centric areas of downtown Chicago.</p>
<h5 id="most-popular-starting-stations">Most popular starting
stations</h5>
<p>Now we want to take a closer look at more popular stations to start a
trip a from . The following map shows the 50 most used starting stations
for members as well as the 50 most used stations for casual users. It
also shows all the docking stations as black dots :</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df_stations_start_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>!=</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Casual User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_stations_start_casual</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_stations_start_casual</span>, 
                                     <span class='va'>df_stations</span>, 
                                     by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"start_station_id"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_stations_start_members</span> <span class='op'>&lt;-</span> <span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>!=</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Member User"</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_stations_start_members</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_stations_start_members</span>, 
                                     <span class='va'>df_stations</span>, 
                                     by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"start_station_id"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_stations_start_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_stations_start_casual</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>50</span>,<span class='op'>]</span>
<span class='va'>df_stations_start_members</span> <span class='op'>&lt;-</span> <span class='va'>df_stations_start_members</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>50</span>,<span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>chicago_map</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_commercial_area</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"commercial"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"yellow"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_park</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"parks"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"green"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Station"</span><span class='op'>)</span>,
             size<span class='op'>=</span><span class='fl'>1</span>,
             fill<span class='op'>=</span><span class='st'>"black"</span>,
             alpha <span class='op'>=</span> <span class='fl'>.5</span>,
             shape <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_start_members</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Members"</span>,
                 size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             shape <span class='op'>=</span> <span class='fl'>23</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_start_casual</span>,
              <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                  y<span class='op'>=</span> <span class='va'>lat</span>,
                  color <span class='op'>=</span> <span class='st'>"Casual"</span>,
                  size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
              alpha <span class='op'>=</span> <span class='fl'>1</span>,
              shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span> 
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Members<span class='op'>=</span><span class='st'>"blue"</span>, Station<span class='op'>=</span><span class='st'>"black"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"Land Use"</span>,
                    values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>commercial<span class='op'>=</span><span class='st'>"yellow"</span>, parks<span class='op'>=</span><span class='st'>"green"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Location of most popular docking stations"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"50 most popular, per user type"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/map%20docking%20strat-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>station_map_1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_commercial_area</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"commercial"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"yellow"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_park</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"parks"</span><span class='op'>)</span>,
           color <span class='op'>=</span> <span class='st'>"green"</span>,
           alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Station"</span><span class='op'>)</span>,
             size<span class='op'>=</span><span class='fl'>1</span>,
             fill<span class='op'>=</span><span class='st'>"black"</span>,
             alpha <span class='op'>=</span> <span class='fl'>.5</span>,
             shape <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_start_members</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                 y<span class='op'>=</span> <span class='va'>lat</span>,
                 color <span class='op'>=</span> <span class='st'>"Members"</span>,
                 size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
             alpha <span class='op'>=</span> <span class='fl'>1</span>,
             shape <span class='op'>=</span> <span class='fl'>23</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_stations_start_casual</span>,
              <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                  y<span class='op'>=</span> <span class='va'>lat</span>,
                  color <span class='op'>=</span> <span class='st'>"Casual"</span>,
                  size <span class='op'>=</span> <span class='va'>count_stations</span><span class='op'>)</span>,
              alpha <span class='op'>=</span> <span class='fl'>1</span>,
              shape <span class='op'>=</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>+</span> 
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Members<span class='op'>=</span><span class='st'>"blue"</span>, Station<span class='op'>=</span><span class='st'>"black"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"Land Use"</span>,
                    values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>commercial<span class='op'>=</span><span class='st'>"yellow"</span>, parks<span class='op'>=</span><span class='st'>"green"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Location of most popular docking stations"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"50 most popular, per user type - Downtown view"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/map%20docking%20strat%20S-1.png" width="624" /></p>
</div>
<p>As we can see, the most popular stations are almost all located in a
very small part of the area covered by the network, and there seems to
be very small differences between casual users and members</p>
<p>Most of the most popular docking stations are located in the <a
href="https://en.wikipedia.org/wiki/Near_North_Side,_Chicago#Economy">Near
North Side distric</a> and the <a
href="https://en.wikipedia.org/wiki/Chicago_Loop">Loop district</a>.
This is a very visited place and has the â€œMagnificent Mileâ€ which is a
very popular leisure area, with lots of dining places, a lot of company
buildings and government agencies, and a lot of University
buildings.</p>
<p>A notable exception to this would be 3 specific Docking stations that
are popular among members. They are located near University of Chicago
and University of Illinois Chicago. So we can state that probably a lot
of members are University students.</p>
<p>This does not tell us, however, where users come from or go to, or if
there is a difference between them.</p>
<h5 id="rides-by-frequence">Rides by frequence</h5>
<p>In order to have a better idea of riders, we also want to see if
there is a difference between casual users and members in the routes
they drive.</p>
<p>For this, we have grouped rides that go from one station to a
different one (by removing rides that do not start or end in a docking
station, as well as rides that start and end in the same place) and then
group the data by single rides. This has been done for members and for
casual users separately. After that, we have plotted the rides with more
than 100 and with more than 1000 occurrences.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#df_path</span>
<span class='va'>df_path_members</span> <span class='op'>&lt;-</span><span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>!=</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>end_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Member User"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>start_station_id</span>, <span class='va'>end_station_id</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span>, <span class='va'>end_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>num_rows</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>df_path_members</span><span class='op'>)</span>
<span class='va'>ID</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>num_rows</span><span class='op'>)</span>
<span class='va'>df_path_members</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='st'>"ID"</span> <span class='op'>=</span> <span class='va'>ID</span> , <span class='va'>df_path_members</span><span class='op'>)</span>

<span class='va'>df_path_members_bis</span> <span class='op'>&lt;-</span> <span class='va'>df_path_members</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>df_path_members</span> <span class='op'>&lt;-</span> <span class='va'>df_path_members</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>]</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>df_path_members</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"id_station"</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>df_path_members_bis</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"id_station"</span>

<span class='va'>df_path_members</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>df_path_members</span>, <span class='va'>df_path_members_bis</span><span class='op'>)</span>
<span class='va'>df_path_members</span> <span class='op'>&lt;-</span> <span class='va'>df_path_members</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>df_path_members</span><span class='op'>$</span><span class='va'>ID</span>, decreasing <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,<span class='op'>]</span>
<span class='va'>df_path_members</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_path_members</span>, 
                                     <span class='va'>df_stations</span>, 
                                     by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id_station"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#Same for casual users:</span>
<span class='co'>#df_path</span>
<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span><span class='va'>df_trips</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ride_distance</span><span class='op'>!=</span><span class='fl'>0</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>start_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>end_station_id</span> <span class='op'>!=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user</span> <span class='op'>==</span> <span class='st'>"Casual User"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>start_station_id</span>, <span class='va'>end_station_id</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>start_station_id</span>, <span class='va'>end_station_id</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/tidyverse.html'>summarise</a></span><span class='op'>(</span>count_stations<span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>num_rows</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>df_path_casual</span><span class='op'>)</span>
<span class='va'>ID</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>num_rows</span><span class='op'>)</span>
<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='st'>"ID"</span> <span class='op'>=</span> <span class='va'>ID</span> , <span class='va'>df_path_casual</span><span class='op'>)</span>

<span class='va'>df_path_casual_bis</span> <span class='op'>&lt;-</span> <span class='va'>df_path_casual</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_path_casual</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>]</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>df_path_casual</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"id_station"</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>df_path_casual_bis</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='st'>"id_station"</span>

<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>df_path_casual</span>, <span class='va'>df_path_casual_bis</span><span class='op'>)</span>
<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span> <span class='va'>df_path_casual</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>df_path_casual</span><span class='op'>$</span><span class='va'>ID</span>, decreasing <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,<span class='op'>]</span>
<span class='va'>df_path_casual</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>df_path_casual</span>, 
                             <span class='va'>df_stations</span>, 
                             by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id_station"</span> <span class='op'>=</span> <span class='st'>"id_original"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>df_path_casual_100</span> <span class='op'>&lt;-</span> <span class='va'>df_path_casual</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>&gt;</span><span class='fl'>100</span><span class='op'>)</span>
<span class='va'>df_path_members_100</span> <span class='op'>&lt;-</span> <span class='va'>df_path_members</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>&gt;</span><span class='fl'>100</span><span class='op'>)</span>

<span class='va'>df_path_casual_1000</span> <span class='op'>&lt;-</span> <span class='va'>df_path_casual</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>&gt;</span><span class='fl'>1000</span><span class='op'>)</span>
<span class='va'>df_path_members_1000</span> <span class='op'>&lt;-</span> <span class='va'>df_path_members</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>count_stations</span><span class='op'>&gt;</span><span class='fl'>1000</span><span class='op'>)</span>

<span class='co'>#To get geometry, there is probably a better way...</span>
<span class='va'>q_nothing</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/getbb.html'>getbb</a></span><span class='op'>(</span><span class='st'>"Chicago"</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://docs.ropensci.org/osmdata/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"landuse"</span>, <span class='st'>"vineyard"</span><span class='op'>)</span>
<span class='va'>osm_nothing</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='va'>q_nothing</span><span class='op'>)</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>osm_nothing</span><span class='op'>$</span><span class='va'>osm_polygons</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>4326</span>
<span class='va'>sf_nothing</span> <span class='op'>&lt;-</span> <span class='va'>osm_nothing</span><span class='op'>$</span><span class='va'>osm_polygon</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Over 1000</span>
<span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>station_map_1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_nothing</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_path_casual_1000</span>,
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                y <span class='op'>=</span> <span class='va'>lat</span>,
                group <span class='op'>=</span> <span class='va'>ID</span>,
                color <span class='op'>=</span> <span class='st'>"Casual"</span>
                <span class='op'>)</span>,
            size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_path_members_1000</span>,
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                y <span class='op'>=</span> <span class='va'>lat</span>,
                group <span class='op'>=</span> <span class='va'>ID</span>,
                color <span class='op'>=</span> <span class='st'>"Member"</span>
                <span class='op'>)</span>,
            size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Member<span class='op'>=</span><span class='st'>"blue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rides with over 1000 occurrencies"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/map%201000-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/ggmap/man/ggmap.html'>ggmap</a></span><span class='op'>(</span>ggmap <span class='op'>=</span> <span class='va'>station_map_1</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span> <span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sf_nothing</span>,
           inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,
           <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_path_members_100</span>,
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                y <span class='op'>=</span> <span class='va'>lat</span>,
                group <span class='op'>=</span> <span class='va'>ID</span>,
                color <span class='op'>=</span> <span class='st'>"Member"</span>,
            <span class='op'>)</span>,
            size <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df_path_casual_100</span>,
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lng</span>,
                y <span class='op'>=</span> <span class='va'>lat</span>,
                group <span class='op'>=</span> <span class='va'>ID</span>,
                color <span class='op'>=</span> <span class='st'>"Casual"</span>,
            <span class='op'>)</span>,
            size <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html'>annotation_scale</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, width_hint <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://paleolimbot.github.io/ggspatial/reference/annotation_north_arrow.html'>annotation_north_arrow</a></span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"bl"</span>, which_north <span class='op'>=</span> <span class='st'>"true"</span>, 
                         pad_x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"in"</span><span class='op'>)</span>, pad_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='st'>"in"</span><span class='op'>)</span>,
                         style <span class='op'>=</span> <span class='va'>north_arrow_fancy_orienteering</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"darkgray"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>name<span class='op'>=</span><span class='st'>"User type"</span>,
                     values<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Casual<span class='op'>=</span><span class='st'>"red"</span>, Member<span class='op'>=</span><span class='st'>"blue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rides with over 100 occurrencies"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>, 
       caption <span class='op'>=</span> <span class='st'>"Cyclistic's dataset (April 2021-Mars 2022) + OSM data. \t author: E. Narro"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/map%20over%20100-1.png" width="624" /></p>
</div>
<p>As we can see, the most successful rides happen in the Chicago city
center.</p>
<p>Causal rides seem to be more touristic-oriented.</p>
<p>Most common members area covers all the most common casual riderâ€™s
area and is larger. On top of the busiest areas of Chicago, the area
expands within Universities, some residential areas to the North and an
area around Chinatown and the McCormick Place convention center.</p>
<p>With all these findings, if we need to make new marketing campaigns,
we could suggest making them in downtown area, around the Magnificent
Mile or around the parks in the Loop district area.</p>
<p>In order to develop the service further, the company could focus on
other areas of leisure (like the zoo for example) or other colleges /
Universities located more towards the West of the town, but the density
of things to do around those areas seems way lower than the East
Area.</p>
<p>So probably, if the goal is to get more casual users to subscribe,
offering a better experience within the downtown area seems to be the
way to go.</p>
<h3
id="product-specific-differences-between-members-and-casual-users">Product
specific differences between members and casual users</h3>
<p>There are 2 kinds of bikes users can rent, electric and classic.
Docked bikes are electric bikes that need to be docked and can only be
undocked by paying in a kiosk, so they are only referenced for casual
users. Electric bikes can be docked or left in the street. Classic bikes
need to be docked all the time.</p>
<p>The following table gives us the proportions for each product
depending on the type of user:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/summarytools/man/ctable.html'>ctable</a></span><span class='op'>(</span><span class='va'>df_trips</span><span class='op'>$</span><span class='va'>user</span>, <span class='va'>df_trips</span><span class='op'>$</span><span class='va'>rideable_type</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"render"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="container st-container">
<h3>Cross-Tabulation, Row Proportions</h3>
<h4>user * rideable_type</h4>
<strong>Data Frame</strong>: df_trips
<br/>
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="12" align="center" class="st-protect-top-border">rideable_type</th>
<th colspan="4"></th>
</tr>
<tr>
<td align="center">
<strong>user</strong>
</td>
<th colspan="4" align="center">Classic</th>
<th colspan="4" align="center">Electric</th>
<th colspan="4" align="center">Docked</th>
<th colspan="4" align="center">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">Member User</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">1962194</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">62.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">1158628</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">37.1%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">0</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">0.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">3120822</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Casual User</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">1240708</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">49.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">964780</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">38.5%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">300384</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">12.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">2505872</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
<tr>
<td>
<strong align="center">Total</strong>
</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">3202902</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">56.9%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">2123408</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">37.7%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">300384</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">5.3%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
<td align="right" style="padding:0 0 0 15px;border-right:0;text-align:right">5626694</td>
<td align="left" style="padding:0 1px 0 4px;border-left:0;border-right:0;text-align:left">(</td>
<td align="left" style="padding:0;border-left:0;border-right:0;text-align:right">100.0%</td>
<td align="left" style="padding:0 15px 0 1px;border-left:0;text-align:right">)</td>
</tr>
</tbody>
</table>
<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.0 (<a href='https://www.r-project.org/'>R</a> version 4.2.0)<br/>2022-05-08</p>
</div>
</div>
<p>Members use classic bikes most of the time (63%). They also use
electric bikes in a significant amount. When members use electric bikes,
they have to pay from minute 1 (but they have a better price). So this
could lead to members preferring using classic bikes that have no extra
cost. It could also be the other way around, people tending to subscribe
more when they are classic bike users since the benefits could be more
attractive.</p>
<p>Casual users use evenly classic or electric bikes. They tend to make
longer distances so maybe that is a reason. <strong>Docked electric
bikes account for 12% of the rides, for casual users, which is a
significant amount of customers not even using the phone
app.</strong></p>
<p>It could be a good idea to make more users install the app and even
test the membership. Maybe offering free special membership for a month,
or any other <strong>special offer that could make people get and use
the application</strong>. We can suppose that if people use the
application they are a step closer to subscribing.</p>
<p>We can try to see if the choice of electric over classic is
influenced by season or day of the week:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>week_day</span>, 
                       fill <span class='op'>=</span> <span class='va'>rideable_type</span>
  <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set3"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Type of bike per day of the week"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>,
       caption <span class='op'>=</span> <span class='st'>"April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Day of the week"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of rides in a year (x 1000)"</span>,
       fill <span class='op'>=</span> <span class='st'>"User type"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://stackoverflow.com/questions/44600061/ggplot-scales-unit-format-thousands-one-decimal-place</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>user</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/type%20of%20bike%20per%20week-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>df_trips</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>mapping<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>month</span>, 
                       fill <span class='op'>=</span> <span class='va'>rideable_type</span>
  <span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_fill_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set3"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_dark</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Type of bike per month"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Members vs Casual users. April 2021 - Mars 2022 cumulative"</span>,
       caption <span class='op'>=</span> <span class='st'>"April 2021 - Mars 2022 \t E. Narro"</span>,
       x <span class='op'>=</span> <span class='st'>"Month"</span>,
       y<span class='op'>=</span> <span class='st'>"Number of rides in a year (x 1000)"</span>,
       fill <span class='op'>=</span> <span class='st'>"User type"</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='co'>#https://stackoverflow.com/questions/44600061/ggplot-scales-unit-format-thousands-one-decimal-place</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/unit_format.html'>unit_format</a></span><span class='op'>(</span>
    unit <span class='op'>=</span> <span class='st'>"k"</span>, 
    scale <span class='op'>=</span> <span class='fl'>1e-3</span>,
    accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>
    <span class='co'># Change legend background color</span>
    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span>,
    legend.key <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"darkgrey"</span>,
                                fill <span class='op'>=</span> <span class='cn'>NA</span>,
                                size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>user</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="cyclistic_files/figure-html5/type%20of%20bike%20per%20month-1.png" width="624" /></p>
</div>
<p>The distribution does not seem very impacted by seasonality, but it
looks like classic bikes have more elasticity in their use, its use
compared to electric bikes grows with weekends and hot months.</p>
<h1 id="conclusion">Conclusion</h1>
<h2 id="main-findings-and-guesses">Main Findings and guesses</h2>
<p>The main differences of casual vs member users are:</p>
<ul>
<li>Rides done by members are 10 times more important than those done by
casual users * Members do most of the total rides on weekdays, casual
users do most of the rides on weekends.</li>
<li>Members ride less on weekends than on weekdays</li>
<li>Casual users do not ride that much from November to March</li>
<li>Casual users make longer rides, sometimes longer than 45 minutes and
it is extremely rare for members to exceed 45 minutes (or even 35
minutes)</li>
<li>Most rides happen in Downtown Chicago, in the East part of the city,
where the skyscrapers and all the big buildings are * Casual users ride
almost exclusively in the very East area of Chicago, Members expand a
little more to surrounding neighborhoods.</li>
<li>Members use classic bikes more often (63% of the time), casual users
are about 50-50</li>
</ul>
<p>During our analysis, <strong>we also guessed</strong> the following.
It would be interesting to do further research and quantify some
statements:</p>
<ul>
<li>A fair amount of casual riders are probably tourists, which reduces
the possibility of selling memberships.</li>
<li>Since casual users ride mostly on weekends (2 days out of 7), they
probably see subscription less attractive</li>
<li>Since casual users ride mostly on hot months (7 month out of 12),
they probably see subscription less attractive</li>
<li>The current pricing system influences how members and casual users
ride: shorter more often rides for members, longer less frequent rides
for casual users</li>
<li>Location of some rides makes us think that a lot of member users are
University students (there is a special membership for students
too)</li>
<li>A big amount of casual users do not even have the app installed</li>
</ul>
<h2 id="main-suggestions">Main suggestions</h2>
<ul>
<li>Either extend the maximum riding time with no extra charge for
current memberships, OR create a new membership with longer time with no
charge, with a bit higher price OR create a membership based on hours
(eg: $240 for 50 hours to do within a year + same extra price than
â€œregularâ€ members for electric bikes â€“ The amounts are to illustrate the
point)</li>
<li>Create a special low-cost subscription for the use of the service in
the mornings, maybe oriented to senior citizens</li>
<li>In order to convert more casual users to members, make marketing
campaigns where those casual users are: around the Magnificent Mile and
the parks of the Loop district, during weekends of hot months.</li>
<li>Create a special offer to make casual users install and use the
application</li>
<li>Partner with employers so they can offer subscriptions as perks</li>
<li>Focus on making a better product when used in downtown: partner with
local businesses (restaurants, bars, museumsâ€¦) to add value to the
membership</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
